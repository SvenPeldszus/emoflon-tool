<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
    <extension point="org.eclipse.ui.commands">
        <category description="eMoflon-GT command category" id="org.moflon.gt.ui.commands.Category" name="eMoflon-GT Commands"></category>
        <command
              categoryId="org.moflon.gt.ui.commands.Category"
              defaultHandler="org.moflon.gt.ui.handlers.NewMOSLGTProjectHandler"
              id="org.moflon.gt.ui.commands.CreateNewMOSLGTProjectCommand"
              name="Create new MOSL-GT project"></command>
        <command
              categoryId="org.moflon.gt.ui.commands.Category"
              defaultHandler="org.moflon.ide.ui.admin.handlers.NoActionCommandHanlder"
              id="org.moflon.gt.ui.commands.EMoflonGTMenuCommand"
              name="eMoflon-GT Menu Command"></command>
    </extension>
    <extension point="org.eclipse.ui.handlers">
        <handler class="org.moflon.gt.ui.handlers.ConvertToMoslGtHandler" commandId="org.moflon.ide.ui.commands.ConvertToMoslGtCommand">
            <enabledWhen>
                <or>
                    <with variable="selection">
                        <iterate operator="or">
                            <reference definitionId="org.moflon.ide.ui.definitions.isProject"></reference>
                        </iterate>
                    </with>
                    <with variable="activeEditorInput">
                        <reference definitionId="org.moflon.ide.ui.definitions.hasRepositoryNature"></reference>
                    </with>
                    <reference definitionId="org.moflon.ide.ui.definitions.isInPackageExplorer"></reference>
                    <reference definitionId="org.moflon.ide.ui.definitions.isInProjectExplorer"></reference>
                </or>
            </enabledWhen>
        </handler>
    </extension>
    <extension point="org.eclipse.ui.menus">
        <menuContribution allPopups="false" locationURI="toolbar:org.moflon.ide.ui.toolbar">
            <command commandId="org.moflon.gt.ui.commands.EMoflonGTMenuCommand" icon="resources/icons/EMoflonGTNatureImage.gif" id="org.moflon.gt.ui.commands.EMoflonGTMenu" label="eMoflon-GT" style="pulldown" tooltip="Commands related to eMoflon-GT">
                <visibleWhen checkEnabled="false">
                	<reference definitionId="org.moflon.ide.ui.definitions.isMoflonPerspective"></reference>
                </visibleWhen>
            </command>
        </menuContribution>
        <menuContribution allPopups="false" locationURI="menu:org.moflon.gt.ui.commands.EMoflonGTMenu">
            <command commandId="org.moflon.gt.ui.commands.CreateNewMOSLGTProjectCommand" icon="resources/icons/NewRepositoryProject.gif" label="Create new eMoflon-GT project" style="push"></command>
        </menuContribution>
    </extension>
    <extension point="org.eclipse.ui.newWizards">
        <wizard category="org.moflon.gt.ui.category" class="org.moflon.gt.ui.wizards.NewMOSLGTProjectWizard" icon="resources/icons/NewRepositoryProject.gif" id="org.moflon.gt.ui.wizard.NewMOSLGTProjectWizard" name="New MOSL-GT Project Wizard" project="true"></wizard>
    </extension>
    <extension point="org.eclipse.ui.ide.projectNatureImages">
        <image icon="resources/icons/EMoflonGTNatureImage.gif" id="org.moflon.gt.ide.natures.EMoflonGTNatureImage" natureId="org.moflon.gt.ide.natures.EMoflonGTNature"></image>
    </extension>
</plugin>
