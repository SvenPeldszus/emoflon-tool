/*
 * generated by Fujaba - CodeGen2
 */
package de.uni_kassel.fujaba.codegen.classdiag;
import java.util.Iterator;

import de.uni_kassel.features.ReferenceHandler; // requires Fujaba5/libs/features.jar in classpath
import de.uni_kassel.features.annotation.util.Property; // requires Fujaba5/libs/features.jar in classpath
import de.uni_paderborn.fujaba.metamodel.common.FElement;
import de.uni_paderborn.fujaba.metamodel.common.FIncrement;
import de.uni_paderborn.fujaba.metamodel.common.FStereotype;
import de.upb.tools.sdm.JavaSDM; // requires Fujaba5/libs/RuntimeTools.jar in classpath
import de.upb.tools.sdm.JavaSDMException;


public class ASGElementStereotypeCodeWriter extends ASGElementCodeWriter
{


   public boolean checkStereotype (FElement elem )
   {
      boolean fujaba__Success = false;
      Object _TmpObject = null;
      FIncrement incr = null;
      Iterator fujaba__IterIncrToStereo = null;
      FStereotype stereo = null;

      // story pattern 
      try 
      {
         fujaba__Success = false; 

         _TmpObject = elem;

         // ensure correct type and really bound of object incr
         JavaSDM.ensure ( _TmpObject instanceof FIncrement );
         incr = (FIncrement) _TmpObject;

         // iterate to-many link stereotypes from incr to stereo
         fujaba__Success = false;
         fujaba__IterIncrToStereo = incr.iteratorOfStereotypes ();

         while ( !(fujaba__Success) && fujaba__IterIncrToStereo.hasNext () )
         {
            try
            {
               stereo = (FStereotype) fujaba__IterIncrToStereo.next ();

               // check object stereo is really bound
               JavaSDM.ensure ( stereo != null );
               // check isomorphic binding between objects stereo and incr
               JavaSDM.ensure ( !stereo.equals (incr) );

               // attribute condition name == stereotypeText
               JavaSDM.ensure ( JavaSDM.stringCompare ((String) stereo.getName (), stereotypeText) == 0 );


               fujaba__Success = true;
            }
            catch ( JavaSDMException fujaba__InternalException )
            {
               fujaba__Success = false;
            }
         }
         JavaSDM.ensure (fujaba__Success);
         fujaba__Success = true;
      }
      catch ( JavaSDMException fujaba__InternalException )
      {
         fujaba__Success = false;
      }

      if ( fujaba__Success )
      {
         return true;

      }
      return false;
   }

   public boolean isResponsibleFor (FElement elem )
   {
      boolean fujaba__Success = false;

      // story pattern 
      try 
      {
         fujaba__Success = false; 

         // constraint checkStereotype (elem)
         JavaSDM.ensure ( checkStereotype (elem) );
         // constraint super.isResponsibleFor (elem)
         JavaSDM.ensure ( super.isResponsibleFor (elem) );
         fujaba__Success = true;
      }
      catch ( JavaSDMException fujaba__InternalException )
      {
         fujaba__Success = false;
      }

      if ( fujaba__Success )
      {
         return true;

      }
      return false;
   }

   public static final String PROPERTY_STEREOTYPE_TEXT = "stereotypeText";

   @Property( name = PROPERTY_STEREOTYPE_TEXT, kind = ReferenceHandler.ReferenceKind.ATTRIBUTE )
   private String stereotypeText;

   @Property( name = PROPERTY_STEREOTYPE_TEXT )
   public void setStereotypeText (String value)
   {
      this.stereotypeText = value;
   }

   public ASGElementStereotypeCodeWriter withStereotypeText (String value)
   {
      setStereotypeText (value);
      return this;
   }

   @Property( name = PROPERTY_STEREOTYPE_TEXT )
   public String getStereotypeText ()
   {
      return this.stereotypeText;
   }

}


