/**
 */
package SokobanCodeAdapter.Rules.impl;

import MocaTree.MocaTreePackage;

import SokobanCodeAdapter.Rules.AdminNodeToFigureRule;
import SokobanCodeAdapter.Rules.AllOtherNodeToFloorRule;
import SokobanCodeAdapter.Rules.BoardNodeToBoardRule;
import SokobanCodeAdapter.Rules.GoalNodeToFigureRule;
import SokobanCodeAdapter.Rules.LeftcolumnNodeToFloorRule;
import SokobanCodeAdapter.Rules.RulesFactory;
import SokobanCodeAdapter.Rules.RulesPackage;
import SokobanCodeAdapter.Rules.ServerNodeToFigureRule;
import SokobanCodeAdapter.Rules.TopRowNodeToFloorRule;
import SokobanCodeAdapter.Rules.WallNodeToFigureRule;

import SokobanCodeAdapter.SokobanCodeAdapterPackage;

import SokobanCodeAdapter.impl.SokobanCodeAdapterPackageImpl;

import SokobanLanguage.SokobanLanguagePackage;

import TGGRuntime.TGGRuntimePackage;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EOperation;
import org.eclipse.emf.ecore.EPackage;

import org.eclipse.emf.ecore.impl.EPackageImpl;

/**
 * <!-- begin-user-doc -->
 * An implementation of the model <b>Package</b>.
 * <!-- end-user-doc -->
 * @generated
 */
public class RulesPackageImpl extends EPackageImpl implements RulesPackage {
	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private EClass adminNodeToFigureRuleEClass = null;

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private EClass allOtherNodeToFloorRuleEClass = null;

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private EClass boardNodeToBoardRuleEClass = null;

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private EClass goalNodeToFigureRuleEClass = null;

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private EClass leftcolumnNodeToFloorRuleEClass = null;

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private EClass serverNodeToFigureRuleEClass = null;

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private EClass topRowNodeToFloorRuleEClass = null;

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private EClass wallNodeToFigureRuleEClass = null;

	/**
	 * Creates an instance of the model <b>Package</b>, registered with
	 * {@link org.eclipse.emf.ecore.EPackage.Registry EPackage.Registry} by the package
	 * package URI value.
	 * <p>Note: the correct way to create the package is via the static
	 * factory method {@link #init init()}, which also performs
	 * initialization of the package, or returns the registered package,
	 * if one already exists.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @see org.eclipse.emf.ecore.EPackage.Registry
	 * @see SokobanCodeAdapter.Rules.RulesPackage#eNS_URI
	 * @see #init()
	 * @generated
	 */
	private RulesPackageImpl() {
		super(eNS_URI, RulesFactory.eINSTANCE);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private static boolean isInited = false;

	/**
	 * Creates, registers, and initializes the <b>Package</b> for this model, and for any others upon which it depends.
	 * 
	 * <p>This method is used to initialize {@link RulesPackage#eINSTANCE} when that field is accessed.
	 * Clients should not invoke it directly. Instead, they should simply access that field to obtain the package.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @see #eNS_URI
	 * @see #createPackageContents()
	 * @see #initializePackageContents()
	 * @generated
	 */
	public static RulesPackage init() {
		if (isInited)
			return (RulesPackage) EPackage.Registry.INSTANCE
					.getEPackage(RulesPackage.eNS_URI);

		// Obtain or create and register package
		RulesPackageImpl theRulesPackage = (RulesPackageImpl) (EPackage.Registry.INSTANCE
				.get(eNS_URI) instanceof RulesPackageImpl ? EPackage.Registry.INSTANCE
				.get(eNS_URI) : new RulesPackageImpl());

		isInited = true;

		// Initialize simple dependencies
		SokobanLanguagePackage.eINSTANCE.eClass();

		// Obtain or create and register interdependencies
		SokobanCodeAdapterPackageImpl theSokobanCodeAdapterPackage = (SokobanCodeAdapterPackageImpl) (EPackage.Registry.INSTANCE
				.getEPackage(SokobanCodeAdapterPackage.eNS_URI) instanceof SokobanCodeAdapterPackageImpl ? EPackage.Registry.INSTANCE
				.getEPackage(SokobanCodeAdapterPackage.eNS_URI)
				: SokobanCodeAdapterPackage.eINSTANCE);

		// Create package meta-data objects
		theRulesPackage.createPackageContents();
		theSokobanCodeAdapterPackage.createPackageContents();

		// Initialize created meta-data
		theRulesPackage.initializePackageContents();
		theSokobanCodeAdapterPackage.initializePackageContents();

		// Mark meta-data to indicate it can't be changed
		theRulesPackage.freeze();

		// Update the registry and return the package
		EPackage.Registry.INSTANCE.put(RulesPackage.eNS_URI, theRulesPackage);
		return theRulesPackage;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EClass getAdminNodeToFigureRule() {
		return adminNodeToFigureRuleEClass;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__Perform_FWD__IsApplicableMatch() {
		return adminNodeToFigureRuleEClass.getEOperations().get(1);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node() {
		return adminNodeToFigureRuleEClass.getEOperations().get(0);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__IsApplicable_FWD__Match() {
		return adminNodeToFigureRuleEClass.getEOperations().get(2);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__Perform_BWD__IsApplicableMatch() {
		return adminNodeToFigureRuleEClass.getEOperations().get(4);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Admin() {
		return adminNodeToFigureRuleEClass.getEOperations().get(3);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__IsApplicable_BWD__Match() {
		return adminNodeToFigureRuleEClass.getEOperations().get(5);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__IsAppropriate_FWD_Node_0__Node() {
		return adminNodeToFigureRuleEClass.getEOperations().get(6);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__IsAppropriate_FWD_Node_1__Node() {
		return adminNodeToFigureRuleEClass.getEOperations().get(7);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__IsAppropriate_BWD_Floor_0__Floor() {
		return adminNodeToFigureRuleEClass.getEOperations().get(8);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAdminNodeToFigureRule__IsAppropriate_BWD_Admin_0__Admin() {
		return adminNodeToFigureRuleEClass.getEOperations().get(9);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EClass getAllOtherNodeToFloorRule() {
		return allOtherNodeToFloorRuleEClass;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__Perform_FWD__IsApplicableMatch() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(1);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsAppropriate_FWD__Match_Node_Node_Node() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(0);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsApplicable_FWD__Match() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(2);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__Perform_BWD__IsApplicableMatch() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(4);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsAppropriate_BWD__Match_Board_Floor_Floor_Floor() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(3);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsApplicable_BWD__Match() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(5);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsAppropriate_FWD_Node_2__Node() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(6);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsAppropriate_FWD_Node_3__Node() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(7);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsAppropriate_FWD_Node_4__Node() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(8);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsAppropriate_BWD_Board_0__Board() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(9);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsAppropriate_BWD_Floor_1__Floor() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(10);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsAppropriate_BWD_Floor_2__Floor() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(11);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getAllOtherNodeToFloorRule__IsAppropriate_BWD_Floor_3__Floor() {
		return allOtherNodeToFloorRuleEClass.getEOperations().get(12);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EClass getBoardNodeToBoardRule() {
		return boardNodeToBoardRuleEClass;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__Perform_FWD__IsApplicableMatch() {
		return boardNodeToBoardRuleEClass.getEOperations().get(1);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD__Match_File_Node_Node_Node_Node_Node_Node_Node_Node_Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(0);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsApplicable_FWD__Match() {
		return boardNodeToBoardRuleEClass.getEOperations().get(2);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__Perform_BWD__IsApplicableMatch() {
		return boardNodeToBoardRuleEClass.getEOperations().get(4);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_BWD__Match_Board_Floor() {
		return boardNodeToBoardRuleEClass.getEOperations().get(3);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsApplicable_BWD__Match() {
		return boardNodeToBoardRuleEClass.getEOperations().get(5);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_File_0__File() {
		return boardNodeToBoardRuleEClass.getEOperations().get(6);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_Node_5__Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(7);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_Node_6__Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(8);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_Node_7__Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(9);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_Node_8__Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(10);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_Node_9__Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(11);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_Node_10__Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(12);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_Node_11__Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(13);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_Node_12__Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(14);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_FWD_Node_13__Node() {
		return boardNodeToBoardRuleEClass.getEOperations().get(15);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_BWD_Board_1__Board() {
		return boardNodeToBoardRuleEClass.getEOperations().get(16);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getBoardNodeToBoardRule__IsAppropriate_BWD_Floor_4__Floor() {
		return boardNodeToBoardRuleEClass.getEOperations().get(17);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EClass getGoalNodeToFigureRule() {
		return goalNodeToFigureRuleEClass;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__Perform_FWD__IsApplicableMatch() {
		return goalNodeToFigureRuleEClass.getEOperations().get(1);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node() {
		return goalNodeToFigureRuleEClass.getEOperations().get(0);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__IsApplicable_FWD__Match() {
		return goalNodeToFigureRuleEClass.getEOperations().get(2);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__Perform_BWD__IsApplicableMatch() {
		return goalNodeToFigureRuleEClass.getEOperations().get(4);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Goal() {
		return goalNodeToFigureRuleEClass.getEOperations().get(3);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__IsApplicable_BWD__Match() {
		return goalNodeToFigureRuleEClass.getEOperations().get(5);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__IsAppropriate_FWD_Node_14__Node() {
		return goalNodeToFigureRuleEClass.getEOperations().get(6);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__IsAppropriate_FWD_Node_15__Node() {
		return goalNodeToFigureRuleEClass.getEOperations().get(7);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__IsAppropriate_BWD_Floor_5__Floor() {
		return goalNodeToFigureRuleEClass.getEOperations().get(8);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getGoalNodeToFigureRule__IsAppropriate_BWD_Goal_0__Goal() {
		return goalNodeToFigureRuleEClass.getEOperations().get(9);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EClass getLeftcolumnNodeToFloorRule() {
		return leftcolumnNodeToFloorRuleEClass;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__Perform_FWD__IsApplicableMatch() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(1);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsAppropriate_FWD__Match_Node_Node_Node() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(0);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsApplicable_FWD__Match() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(2);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__Perform_BWD__IsApplicableMatch() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(4);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsAppropriate_BWD__Match_Board_Floor_Floor() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(3);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsApplicable_BWD__Match() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(5);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsAppropriate_FWD_Node_16__Node() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(6);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsAppropriate_FWD_Node_17__Node() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(7);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsAppropriate_FWD_Node_18__Node() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(8);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsAppropriate_BWD_Board_2__Board() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(9);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsAppropriate_BWD_Floor_6__Floor() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(10);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getLeftcolumnNodeToFloorRule__IsAppropriate_BWD_Floor_7__Floor() {
		return leftcolumnNodeToFloorRuleEClass.getEOperations().get(11);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EClass getServerNodeToFigureRule() {
		return serverNodeToFigureRuleEClass;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__Perform_FWD__IsApplicableMatch() {
		return serverNodeToFigureRuleEClass.getEOperations().get(1);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node() {
		return serverNodeToFigureRuleEClass.getEOperations().get(0);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__IsApplicable_FWD__Match() {
		return serverNodeToFigureRuleEClass.getEOperations().get(2);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__Perform_BWD__IsApplicableMatch() {
		return serverNodeToFigureRuleEClass.getEOperations().get(4);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Server() {
		return serverNodeToFigureRuleEClass.getEOperations().get(3);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__IsApplicable_BWD__Match() {
		return serverNodeToFigureRuleEClass.getEOperations().get(5);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__IsAppropriate_FWD_Node_19__Node() {
		return serverNodeToFigureRuleEClass.getEOperations().get(6);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__IsAppropriate_FWD_Node_20__Node() {
		return serverNodeToFigureRuleEClass.getEOperations().get(7);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__IsAppropriate_BWD_Floor_8__Floor() {
		return serverNodeToFigureRuleEClass.getEOperations().get(8);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getServerNodeToFigureRule__IsAppropriate_BWD_Server_0__Server() {
		return serverNodeToFigureRuleEClass.getEOperations().get(9);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EClass getTopRowNodeToFloorRule() {
		return topRowNodeToFloorRuleEClass;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__Perform_FWD__IsApplicableMatch() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(1);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsAppropriate_FWD__Match_Node_Node_Node() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(0);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsApplicable_FWD__Match() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(2);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__Perform_BWD__IsApplicableMatch() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(4);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsAppropriate_BWD__Match_Board_Floor_Floor() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(3);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsApplicable_BWD__Match() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(5);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsAppropriate_FWD_Node_21__Node() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(6);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsAppropriate_FWD_Node_22__Node() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(7);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsAppropriate_FWD_Node_23__Node() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(8);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsAppropriate_BWD_Board_3__Board() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(9);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsAppropriate_BWD_Floor_9__Floor() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(10);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getTopRowNodeToFloorRule__IsAppropriate_BWD_Floor_10__Floor() {
		return topRowNodeToFloorRuleEClass.getEOperations().get(11);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EClass getWallNodeToFigureRule() {
		return wallNodeToFigureRuleEClass;
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__Perform_FWD__IsApplicableMatch() {
		return wallNodeToFigureRuleEClass.getEOperations().get(1);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node() {
		return wallNodeToFigureRuleEClass.getEOperations().get(0);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__IsApplicable_FWD__Match() {
		return wallNodeToFigureRuleEClass.getEOperations().get(2);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__Perform_BWD__IsApplicableMatch() {
		return wallNodeToFigureRuleEClass.getEOperations().get(4);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Wall() {
		return wallNodeToFigureRuleEClass.getEOperations().get(3);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__IsApplicable_BWD__Match() {
		return wallNodeToFigureRuleEClass.getEOperations().get(5);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__IsAppropriate_FWD_Node_24__Node() {
		return wallNodeToFigureRuleEClass.getEOperations().get(6);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__IsAppropriate_FWD_Node_25__Node() {
		return wallNodeToFigureRuleEClass.getEOperations().get(7);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__IsAppropriate_BWD_Floor_11__Floor() {
		return wallNodeToFigureRuleEClass.getEOperations().get(8);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public EOperation getWallNodeToFigureRule__IsAppropriate_BWD_Wall_0__Wall() {
		return wallNodeToFigureRuleEClass.getEOperations().get(9);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public RulesFactory getRulesFactory() {
		return (RulesFactory) getEFactoryInstance();
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private boolean isCreated = false;

	/**
	 * Creates the meta-model objects for the package.  This method is
	 * guarded to have no affect on any invocation but its first.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public void createPackageContents() {
		if (isCreated)
			return;
		isCreated = true;

		// Create classes and their features
		adminNodeToFigureRuleEClass = createEClass(ADMIN_NODE_TO_FIGURE_RULE);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD__MATCH_NODE_NODE);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___PERFORM_FWD__ISAPPLICABLEMATCH);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___IS_APPLICABLE_FWD__MATCH);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD__MATCH_FLOOR_ADMIN);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___PERFORM_BWD__ISAPPLICABLEMATCH);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___IS_APPLICABLE_BWD__MATCH);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD_NODE_0__NODE);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD_NODE_1__NODE);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD_FLOOR_0__FLOOR);
		createEOperation(adminNodeToFigureRuleEClass,
				ADMIN_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD_ADMIN_0__ADMIN);

		allOtherNodeToFloorRuleEClass = createEClass(ALL_OTHER_NODE_TO_FLOOR_RULE);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD__MATCH_NODE_NODE_NODE);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___PERFORM_FWD__ISAPPLICABLEMATCH);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPLICABLE_FWD__MATCH);
		createEOperation(
				allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD__MATCH_BOARD_FLOOR_FLOOR_FLOOR);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___PERFORM_BWD__ISAPPLICABLEMATCH);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPLICABLE_BWD__MATCH);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD_NODE_2__NODE);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD_NODE_3__NODE);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD_NODE_4__NODE);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_BOARD_0__BOARD);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_FLOOR_1__FLOOR);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_FLOOR_2__FLOOR);
		createEOperation(allOtherNodeToFloorRuleEClass,
				ALL_OTHER_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_FLOOR_3__FLOOR);

		boardNodeToBoardRuleEClass = createEClass(BOARD_NODE_TO_BOARD_RULE);
		createEOperation(
				boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD__MATCH_FILE_NODE_NODE_NODE_NODE_NODE_NODE_NODE_NODE_NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___PERFORM_FWD__ISAPPLICABLEMATCH);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPLICABLE_FWD__MATCH);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_BWD__MATCH_BOARD_FLOOR);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___PERFORM_BWD__ISAPPLICABLEMATCH);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPLICABLE_BWD__MATCH);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_FILE_0__FILE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_NODE_5__NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_NODE_6__NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_NODE_7__NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_NODE_8__NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_NODE_9__NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_NODE_10__NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_NODE_11__NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_NODE_12__NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_FWD_NODE_13__NODE);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_BWD_BOARD_1__BOARD);
		createEOperation(boardNodeToBoardRuleEClass,
				BOARD_NODE_TO_BOARD_RULE___IS_APPROPRIATE_BWD_FLOOR_4__FLOOR);

		goalNodeToFigureRuleEClass = createEClass(GOAL_NODE_TO_FIGURE_RULE);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD__MATCH_NODE_NODE);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___PERFORM_FWD__ISAPPLICABLEMATCH);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___IS_APPLICABLE_FWD__MATCH);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD__MATCH_FLOOR_GOAL);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___PERFORM_BWD__ISAPPLICABLEMATCH);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___IS_APPLICABLE_BWD__MATCH);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD_NODE_14__NODE);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD_NODE_15__NODE);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD_FLOOR_5__FLOOR);
		createEOperation(goalNodeToFigureRuleEClass,
				GOAL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD_GOAL_0__GOAL);

		leftcolumnNodeToFloorRuleEClass = createEClass(LEFTCOLUMN_NODE_TO_FLOOR_RULE);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD__MATCH_NODE_NODE_NODE);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___PERFORM_FWD__ISAPPLICABLEMATCH);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPLICABLE_FWD__MATCH);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD__MATCH_BOARD_FLOOR_FLOOR);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___PERFORM_BWD__ISAPPLICABLEMATCH);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPLICABLE_BWD__MATCH);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD_NODE_16__NODE);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD_NODE_17__NODE);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD_NODE_18__NODE);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_BOARD_2__BOARD);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_FLOOR_6__FLOOR);
		createEOperation(leftcolumnNodeToFloorRuleEClass,
				LEFTCOLUMN_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_FLOOR_7__FLOOR);

		serverNodeToFigureRuleEClass = createEClass(SERVER_NODE_TO_FIGURE_RULE);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD__MATCH_NODE_NODE);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___PERFORM_FWD__ISAPPLICABLEMATCH);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___IS_APPLICABLE_FWD__MATCH);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD__MATCH_FLOOR_SERVER);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___PERFORM_BWD__ISAPPLICABLEMATCH);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___IS_APPLICABLE_BWD__MATCH);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD_NODE_19__NODE);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD_NODE_20__NODE);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD_FLOOR_8__FLOOR);
		createEOperation(serverNodeToFigureRuleEClass,
				SERVER_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD_SERVER_0__SERVER);

		topRowNodeToFloorRuleEClass = createEClass(TOP_ROW_NODE_TO_FLOOR_RULE);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD__MATCH_NODE_NODE_NODE);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___PERFORM_FWD__ISAPPLICABLEMATCH);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPLICABLE_FWD__MATCH);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD__MATCH_BOARD_FLOOR_FLOOR);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___PERFORM_BWD__ISAPPLICABLEMATCH);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPLICABLE_BWD__MATCH);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD_NODE_21__NODE);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD_NODE_22__NODE);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_FWD_NODE_23__NODE);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_BOARD_3__BOARD);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_FLOOR_9__FLOOR);
		createEOperation(topRowNodeToFloorRuleEClass,
				TOP_ROW_NODE_TO_FLOOR_RULE___IS_APPROPRIATE_BWD_FLOOR_10__FLOOR);

		wallNodeToFigureRuleEClass = createEClass(WALL_NODE_TO_FIGURE_RULE);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD__MATCH_NODE_NODE);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___PERFORM_FWD__ISAPPLICABLEMATCH);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___IS_APPLICABLE_FWD__MATCH);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD__MATCH_FLOOR_WALL);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___PERFORM_BWD__ISAPPLICABLEMATCH);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___IS_APPLICABLE_BWD__MATCH);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD_NODE_24__NODE);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_FWD_NODE_25__NODE);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD_FLOOR_11__FLOOR);
		createEOperation(wallNodeToFigureRuleEClass,
				WALL_NODE_TO_FIGURE_RULE___IS_APPROPRIATE_BWD_WALL_0__WALL);
	}

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	private boolean isInitialized = false;

	/**
	 * Complete the initialization of the package and its meta-model.  This
	 * method is guarded to have no affect on any invocation but its first.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	public void initializePackageContents() {
		if (isInitialized)
			return;
		isInitialized = true;

		// Initialize package
		setName(eNAME);
		setNsPrefix(eNS_PREFIX);
		setNsURI(eNS_URI);

		// Obtain other dependent packages
		TGGRuntimePackage theTGGRuntimePackage = (TGGRuntimePackage) EPackage.Registry.INSTANCE
				.getEPackage(TGGRuntimePackage.eNS_URI);
		MocaTreePackage theMocaTreePackage = (MocaTreePackage) EPackage.Registry.INSTANCE
				.getEPackage(MocaTreePackage.eNS_URI);
		SokobanLanguagePackage theSokobanLanguagePackage = (SokobanLanguagePackage) EPackage.Registry.INSTANCE
				.getEPackage(SokobanLanguagePackage.eNS_URI);

		// Create type parameters

		// Set bounds for type parameters

		// Add supertypes to classes
		adminNodeToFigureRuleEClass.getESuperTypes().add(
				theTGGRuntimePackage.getAbstractRule());
		allOtherNodeToFloorRuleEClass.getESuperTypes().add(
				theTGGRuntimePackage.getAbstractRule());
		boardNodeToBoardRuleEClass.getESuperTypes().add(
				theTGGRuntimePackage.getAbstractRule());
		goalNodeToFigureRuleEClass.getESuperTypes().add(
				theTGGRuntimePackage.getAbstractRule());
		leftcolumnNodeToFloorRuleEClass.getESuperTypes().add(
				theTGGRuntimePackage.getAbstractRule());
		serverNodeToFigureRuleEClass.getESuperTypes().add(
				theTGGRuntimePackage.getAbstractRule());
		topRowNodeToFloorRuleEClass.getESuperTypes().add(
				theTGGRuntimePackage.getAbstractRule());
		wallNodeToFigureRuleEClass.getESuperTypes().add(
				theTGGRuntimePackage.getAbstractRule());

		// Initialize classes, features, and operations; add parameters
		initEClass(adminNodeToFigureRuleEClass, AdminNodeToFigureRule.class,
				"AdminNodeToFigureRule", !IS_ABSTRACT, !IS_INTERFACE,
				IS_GENERATED_INSTANCE_CLASS);

		EOperation op = initEOperation(
				getAdminNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node(),
				ecorePackage.getEBoolean(), "isAppropriate_FWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "floorNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "figureNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAdminNodeToFigureRule__Perform_FWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_FWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAdminNodeToFigureRule__IsApplicable_FWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_FWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAdminNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Admin(),
				ecorePackage.getEBoolean(), "isAppropriate_BWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getAdmin(), "admin", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAdminNodeToFigureRule__Perform_BWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_BWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAdminNodeToFigureRule__IsApplicable_BWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_BWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAdminNodeToFigureRule__IsAppropriate_FWD_Node_0__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_0", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "floorNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAdminNodeToFigureRule__IsAppropriate_FWD_Node_1__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_1", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "figureNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAdminNodeToFigureRule__IsAppropriate_BWD_Floor_0__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_0", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAdminNodeToFigureRule__IsAppropriate_BWD_Admin_0__Admin(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Admin_0", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getAdmin(), "admin", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		initEClass(allOtherNodeToFloorRuleEClass,
				AllOtherNodeToFloorRule.class, "AllOtherNodeToFloorRule",
				!IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsAppropriate_FWD__Match_Node_Node_Node(),
				ecorePackage.getEBoolean(), "isAppropriate_FWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "columnNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__Perform_FWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_FWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsApplicable_FWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_FWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD__Match_Board_Floor_Floor_Floor(),
				ecorePackage.getEBoolean(), "isAppropriate_BWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getBoard(), "board", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "leftNeighbor",
				0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "topNeighbor",
				0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__Perform_BWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_BWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsApplicable_BWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_BWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsAppropriate_FWD_Node_2__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_2", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsAppropriate_FWD_Node_3__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_3", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsAppropriate_FWD_Node_4__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_4", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "columnNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD_Board_0__Board(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Board_0", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getBoard(), "board", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD_Floor_1__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_1", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "leftNeighbor",
				0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD_Floor_2__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_2", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "topNeighbor",
				0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD_Floor_3__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_3", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		initEClass(boardNodeToBoardRuleEClass, BoardNodeToBoardRule.class,
				"BoardNodeToBoardRule", !IS_ABSTRACT, !IS_INTERFACE,
				IS_GENERATED_INSTANCE_CLASS);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD__Match_File_Node_Node_Node_Node_Node_Node_Node_Node_Node(),
				ecorePackage.getEBoolean(), "isAppropriate_FWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getFile(), "file", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardSpecNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "dimensionNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowsNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "colsNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowCountNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "columnCountNode", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "topRowNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "topRowLeftColumnNode",
				0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__Perform_FWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_FWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(getBoardNodeToBoardRule__IsApplicable_FWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_FWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_BWD__Match_Board_Floor(),
				ecorePackage.getEBoolean(), "isAppropriate_BWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getBoard(), "board", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "topLeftFloor",
				0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__Perform_BWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_BWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(getBoardNodeToBoardRule__IsApplicable_BWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_BWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_File_0__File(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_File_0", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getFile(), "file", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_5__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_5", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardSpecNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_6__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_6", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "dimensionNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_7__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_7", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowsNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_8__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_8", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "colsNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_9__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_9", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowCountNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_10__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_10", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "columnCountNode", 0,
				1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_11__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_11", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_12__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_12", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "topRowNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_13__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_13", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "topRowLeftColumnNode",
				0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_BWD_Board_1__Board(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Board_1", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getBoard(), "board", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getBoardNodeToBoardRule__IsAppropriate_BWD_Floor_4__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_4", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "topLeftFloor",
				0, 1, IS_UNIQUE, IS_ORDERED);

		initEClass(goalNodeToFigureRuleEClass, GoalNodeToFigureRule.class,
				"GoalNodeToFigureRule", !IS_ABSTRACT, !IS_INTERFACE,
				IS_GENERATED_INSTANCE_CLASS);

		op = initEOperation(
				getGoalNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node(),
				ecorePackage.getEBoolean(), "isAppropriate_FWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "floorNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "figureNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getGoalNodeToFigureRule__Perform_FWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_FWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(getGoalNodeToFigureRule__IsApplicable_FWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_FWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getGoalNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Goal(),
				ecorePackage.getEBoolean(), "isAppropriate_BWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getGoal(), "goal", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getGoalNodeToFigureRule__Perform_BWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_BWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(getGoalNodeToFigureRule__IsApplicable_BWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_BWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getGoalNodeToFigureRule__IsAppropriate_FWD_Node_14__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_14", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "floorNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getGoalNodeToFigureRule__IsAppropriate_FWD_Node_15__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_15", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "figureNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getGoalNodeToFigureRule__IsAppropriate_BWD_Floor_5__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_5", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getGoalNodeToFigureRule__IsAppropriate_BWD_Goal_0__Goal(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Goal_0", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getGoal(), "goal", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		initEClass(leftcolumnNodeToFloorRuleEClass,
				LeftcolumnNodeToFloorRule.class, "LeftcolumnNodeToFloorRule",
				!IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_FWD__Match_Node_Node_Node(),
				ecorePackage.getEBoolean(), "isAppropriate_FWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "columnNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__Perform_FWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_FWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsApplicable_FWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_FWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_BWD__Match_Board_Floor_Floor(),
				ecorePackage.getEBoolean(), "isAppropriate_BWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getBoard(), "board", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "topNeighbor",
				0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__Perform_BWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_BWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsApplicable_BWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_BWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_FWD_Node_16__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_16", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_FWD_Node_17__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_17", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_FWD_Node_18__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_18", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "columnNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_BWD_Board_2__Board(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Board_2", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getBoard(), "board", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_BWD_Floor_6__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_6", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "topNeighbor",
				0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_BWD_Floor_7__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_7", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		initEClass(serverNodeToFigureRuleEClass, ServerNodeToFigureRule.class,
				"ServerNodeToFigureRule", !IS_ABSTRACT, !IS_INTERFACE,
				IS_GENERATED_INSTANCE_CLASS);

		op = initEOperation(
				getServerNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node(),
				ecorePackage.getEBoolean(), "isAppropriate_FWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "floorNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "figureNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getServerNodeToFigureRule__Perform_FWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_FWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getServerNodeToFigureRule__IsApplicable_FWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_FWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getServerNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Server(),
				ecorePackage.getEBoolean(), "isAppropriate_BWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getServer(), "server", 0,
				1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getServerNodeToFigureRule__Perform_BWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_BWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getServerNodeToFigureRule__IsApplicable_BWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_BWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getServerNodeToFigureRule__IsAppropriate_FWD_Node_19__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_19", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "floorNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getServerNodeToFigureRule__IsAppropriate_FWD_Node_20__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_20", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "figureNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getServerNodeToFigureRule__IsAppropriate_BWD_Floor_8__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_8", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getServerNodeToFigureRule__IsAppropriate_BWD_Server_0__Server(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Server_0", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getServer(), "server", 0,
				1, IS_UNIQUE, IS_ORDERED);

		initEClass(topRowNodeToFloorRuleEClass, TopRowNodeToFloorRule.class,
				"TopRowNodeToFloorRule", !IS_ABSTRACT, !IS_INTERFACE,
				IS_GENERATED_INSTANCE_CLASS);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsAppropriate_FWD__Match_Node_Node_Node(),
				ecorePackage.getEBoolean(), "isAppropriate_FWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "columnNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__Perform_FWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_FWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsApplicable_FWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_FWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsAppropriate_BWD__Match_Board_Floor_Floor(),
				ecorePackage.getEBoolean(), "isAppropriate_BWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getBoard(), "board", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "leftNeighbor",
				0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__Perform_BWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_BWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsApplicable_BWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_BWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsAppropriate_FWD_Node_21__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_21", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "boardNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsAppropriate_FWD_Node_22__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_22", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "rowNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsAppropriate_FWD_Node_23__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_23", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "columnNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsAppropriate_BWD_Board_3__Board(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Board_3", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getBoard(), "board", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsAppropriate_BWD_Floor_9__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_9", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "leftNeighbor",
				0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getTopRowNodeToFloorRule__IsAppropriate_BWD_Floor_10__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_10", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		initEClass(wallNodeToFigureRuleEClass, WallNodeToFigureRule.class,
				"WallNodeToFigureRule", !IS_ABSTRACT, !IS_INTERFACE,
				IS_GENERATED_INSTANCE_CLASS);

		op = initEOperation(
				getWallNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node(),
				ecorePackage.getEBoolean(), "isAppropriate_FWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "floorNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "figureNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getWallNodeToFigureRule__Perform_FWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_FWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(getWallNodeToFigureRule__IsApplicable_FWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_FWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getWallNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Wall(),
				ecorePackage.getEBoolean(), "isAppropriate_BWD", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getWall(), "wall", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getWallNodeToFigureRule__Perform_BWD__IsApplicableMatch(),
				theTGGRuntimePackage.getPerformRuleResult(), "perform_BWD", 0,
				1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getIsApplicableMatch(),
				"isApplicableMatch", 0, 1, IS_UNIQUE, IS_ORDERED);

		op = initEOperation(getWallNodeToFigureRule__IsApplicable_BWD__Match(),
				theTGGRuntimePackage.getIsApplicableRuleResult(),
				"isApplicable_BWD", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theTGGRuntimePackage.getMatch(), "match", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getWallNodeToFigureRule__IsAppropriate_FWD_Node_24__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_24", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "floorNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getWallNodeToFigureRule__IsAppropriate_FWD_Node_25__Node(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_FWD_Node_25", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theMocaTreePackage.getNode(), "figureNode", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getWallNodeToFigureRule__IsAppropriate_BWD_Floor_11__Floor(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Floor_11", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getFloor(), "floor", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		op = initEOperation(
				getWallNodeToFigureRule__IsAppropriate_BWD_Wall_0__Wall(),
				theTGGRuntimePackage.getIsAppropriateRuleResult(),
				"isAppropriate_BWD_Wall_0", 0, 1, IS_UNIQUE, IS_ORDERED);
		addEParameter(op, theSokobanLanguagePackage.getWall(), "wall", 0, 1,
				IS_UNIQUE, IS_ORDERED);

		// Create annotations
		// TGGRule
		createTGGRuleAnnotations();
		// SDM
		createSDMAnnotations();
	}

	/**
	 * Initializes the annotations for <b>TGGRule</b>.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected void createTGGRuleAnnotations() {
		String source = "TGGRule";
		addAnnotation(adminNodeToFigureRuleEClass, source, new String[] {});
		addAnnotation(allOtherNodeToFloorRuleEClass, source, new String[] {});
		addAnnotation(boardNodeToBoardRuleEClass, source, new String[] {});
		addAnnotation(goalNodeToFigureRuleEClass, source, new String[] {});
		addAnnotation(leftcolumnNodeToFloorRuleEClass, source, new String[] {});
		addAnnotation(serverNodeToFigureRuleEClass, source, new String[] {});
		addAnnotation(topRowNodeToFloorRuleEClass, source, new String[] {});
		addAnnotation(wallNodeToFigureRuleEClass, source, new String[] {});
	}

	/**
	 * Initializes the annotations for <b>SDM</b>.
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @generated
	 */
	protected void createSDMAnnotations() {
		String source = "SDM";
		addAnnotation(
				getAdminNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;floorNode&quot;, floorNode);&#xA;match.registerObject(&quot;figureNode&quot;, figureNode);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAdminNodeToFigureRule__Perform_FWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"admin\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__admin\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;@&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;figureNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"admin\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"admin\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAdminNodeToFigureRule__IsApplicable_FWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;floorNode&quot;,floorNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;figureNode&quot;,figureNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToFloor&quot;,nodeToFloor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;AdminNodeToFigureRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;@&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;@&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;figureNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAdminNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Admin(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"admin\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__admin\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;floor&quot;, floor);&#xA;match.registerObject(&quot;admin&quot;, admin);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAdminNodeToFigureRule__Perform_BWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"admin\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__admin\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;@&quot;\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"admin\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;admin&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"admin\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAdminNodeToFigureRule__IsApplicable_BWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;floorNode&quot;,floorNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToFloor&quot;,nodeToFloor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;admin&quot;,admin);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;AdminNodeToFigureRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"admin\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"admin\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;admin&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAdminNodeToFigureRule__IsAppropriate_FWD_Node_0__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floorNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_FWD/floorNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"figureNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_FWD/figureNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;@&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;@&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAdminNodeToFigureRule__IsAppropriate_FWD_Node_1__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floorNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_FWD/floorNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"figureNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_FWD/figureNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;@&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;@&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAdminNodeToFigureRule__IsAppropriate_BWD_Floor_0__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"admin\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_BWD/admin\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"admin\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"admin\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAdminNodeToFigureRule__IsAppropriate_BWD_Admin_0__Admin(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"admin\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_BWD/admin\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"admin\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AdminNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AdminNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"admin\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Admin\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsAppropriate_FWD__Match_Node_Node_Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode__parentNode__rowNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;parentNode&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;boardNode&quot;, boardNode);&#xA;match.registerObject(&quot;rowNode&quot;, rowNode);&#xA;match.registerObject(&quot;columnNode&quot;, columnNode);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode__children__rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextEdges\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__Perform_FWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12 //@ownedActivityNode.2/@storyPattern/@linkVariable.15\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.17\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.8 //@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.13 //@ownedActivityNode.2/@storyPattern/@linkVariable.16\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode__parentNode__rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;parentNode&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10 //@ownedActivityNode.2/@storyPattern/@linkVariable.11\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__left__leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.13 //@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;left&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__top__topNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.15\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.16 //@ownedActivityNode.2/@storyPattern/@linkVariable.17\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;top&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;columnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToBoard&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;leftNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;topNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;floor&quot;,&quot;row&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;floor&quot;,&quot;col&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.11\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740014746F704E65696768626F722E676574526F772829\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED00057400156C6566744E65696768626F722E676574436F6C2829\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740012726F774E6F64652E676574496E6465782829\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740015636F6C756D6E4E6F64652E676574496E6465782829\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED00057400156C6566744E65696768626F722E676574526F772829\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740014746F704E65696768626F722E676574436F6C2829\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.2 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.4 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.3 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.5\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.2 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.3 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.4 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.5\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.2 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.3\"/>\r\n        <source/>\r\n        <target variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.4 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.5\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsApplicable_FWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;Variable&lt;Number> literal0 = CspFactory.eINSTANCE.createVariable(&quot;literal0&quot;, true, csp);&#xD;&#xA;literal0.setValue(1);&#xD;&#xA;Variable&lt;Number> literal1 = CspFactory.eINSTANCE.createVariable(&quot;literal1&quot;, true, csp);&#xD;&#xA;literal1.setValue(1);&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_topNeighbor_row = CspFactory.eINSTANCE.createVariable(&quot;topNeighbor.row&quot;, true, csp);&#xD;&#xA;var_topNeighbor_row.setValue(topNeighbor.getRow());&#xD;&#xA;Variable&lt;Number> var_leftNeighbor_col = CspFactory.eINSTANCE.createVariable(&quot;leftNeighbor.col&quot;, true, csp);&#xD;&#xA;var_leftNeighbor_col.setValue(leftNeighbor.getCol());&#xD;&#xA;Variable&lt;Number> var_rowNode_index = CspFactory.eINSTANCE.createVariable(&quot;rowNode.index&quot;, true, csp);&#xD;&#xA;var_rowNode_index.setValue(rowNode.getIndex());&#xD;&#xA;Variable&lt;Number> var_columnNode_index = CspFactory.eINSTANCE.createVariable(&quot;columnNode.index&quot;, true, csp);&#xD;&#xA;var_columnNode_index.setValue(columnNode.getIndex());&#xD;&#xA;Variable&lt;Number> var_leftNeighbor_row = CspFactory.eINSTANCE.createVariable(&quot;leftNeighbor.row&quot;, true, csp);&#xD;&#xA;var_leftNeighbor_row.setValue(leftNeighbor.getRow());&#xD;&#xA;Variable&lt;Number> var_topNeighbor_col = CspFactory.eINSTANCE.createVariable(&quot;topNeighbor.col&quot;, true, csp);&#xD;&#xA;var_topNeighbor_col.setValue(topNeighbor.getCol());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;Number> var_floor_row = CspFactory.eINSTANCE.createVariable(&quot;floor.row&quot;, csp);&#xD;&#xA;Variable&lt;Number> var_floor_col = CspFactory.eINSTANCE.createVariable(&quot;floor.col&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Sub sub = new Sub();Eq&lt;Number> eq = new Eq&lt;Number>();Eq&lt;Number> eq_0 = new Eq&lt;Number>();Sub sub_0 = new Sub();Eq&lt;Number> eq_1 = new Eq&lt;Number>();Eq&lt;Number> eq_2 = new Eq&lt;Number>();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(sub);&#xD;&#xA;csp.getConstraints().add(eq);&#xD;&#xA;csp.getConstraints().add(eq_0);&#xD;&#xA;csp.getConstraints().add(sub_0);&#xD;&#xA;csp.getConstraints().add(eq_1);&#xD;&#xA;csp.getConstraints().add(eq_2);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;sub.setRuleName(&quot;&quot;);&#xD;&#xA;sub.solve(var_floor_row,literal0,var_topNeighbor_row);&#xD;&#xA;eq.setRuleName(&quot;&quot;);&#xD;&#xA;eq.solve(var_floor_row,var_rowNode_index);&#xD;&#xA;eq_0.setRuleName(&quot;&quot;);&#xD;&#xA;eq_0.solve(var_floor_row,var_leftNeighbor_row);&#xD;&#xA;sub_0.setRuleName(&quot;&quot;);&#xD;&#xA;sub_0.solve(var_floor_col,literal1,var_leftNeighbor_col);&#xD;&#xA;eq_1.setRuleName(&quot;&quot;);&#xD;&#xA;eq_1.solve(var_floor_col,var_columnNode_index);&#xD;&#xA;eq_2.setRuleName(&quot;&quot;);&#xD;&#xA;eq_2.solve(var_floor_col,var_topNeighbor_col);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardNode&quot;,boardNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;rowNode&quot;,rowNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;columnNode&quot;,columnNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToBoard&quot;,nodeToBoard);&#xD;&#xA;isApplicableMatch.registerObject(&quot;board&quot;,board);&#xD;&#xA;isApplicableMatch.registerObject(&quot;leftNeighbor&quot;,leftNeighbor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;topNeighbor&quot;,topNeighbor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;AllOtherNodeToFloorRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4 //@ownedActivityNode.5/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"parentNode\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1 //@ownedActivityNode.5/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.3 //@ownedActivityNode.5/@storyPattern/@csp/@variables.4 //@ownedActivityNode.5/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.3 //@ownedActivityNode.5/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.3 //@ownedActivityNode.5/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;columnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.4 //@ownedActivityNode.6/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD__Match_Board_Floor_Floor_Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.4 //@ownedActivityNode.0/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3 //@ownedActivityNode.0/@storyPattern/@linkVariable.5 //@ownedActivityNode.0/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__left__leftNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.5 //@ownedActivityNode.0/@storyPattern/@linkVariable.6\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;left&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__top__topNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.8 //@ownedActivityNode.0/@storyPattern/@linkVariable.9\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;top&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.9\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;Variable&lt;Number> literal0 = CspFactory.eINSTANCE.createVariable(&quot;literal0&quot;, true, csp);&#xD;&#xA;literal0.setValue(1);&#xD;&#xA;Variable&lt;Number> literal1 = CspFactory.eINSTANCE.createVariable(&quot;literal1&quot;, true, csp);&#xD;&#xA;literal1.setValue(1);&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_floor_row = CspFactory.eINSTANCE.createVariable(&quot;floor.row&quot;, true, csp);&#xD;&#xA;var_floor_row.setValue(floor.getRow());&#xD;&#xA;Variable&lt;Number> var_topNeighbor_row = CspFactory.eINSTANCE.createVariable(&quot;topNeighbor.row&quot;, true, csp);&#xD;&#xA;var_topNeighbor_row.setValue(topNeighbor.getRow());&#xD;&#xA;Variable&lt;Number> var_floor_col = CspFactory.eINSTANCE.createVariable(&quot;floor.col&quot;, true, csp);&#xD;&#xA;var_floor_col.setValue(floor.getCol());&#xD;&#xA;Variable&lt;Number> var_leftNeighbor_col = CspFactory.eINSTANCE.createVariable(&quot;leftNeighbor.col&quot;, true, csp);&#xD;&#xA;var_leftNeighbor_col.setValue(leftNeighbor.getCol());&#xD;&#xA;Variable&lt;Number> var_leftNeighbor_row = CspFactory.eINSTANCE.createVariable(&quot;leftNeighbor.row&quot;, true, csp);&#xD;&#xA;var_leftNeighbor_row.setValue(leftNeighbor.getRow());&#xD;&#xA;Variable&lt;Number> var_topNeighbor_col = CspFactory.eINSTANCE.createVariable(&quot;topNeighbor.col&quot;, true, csp);&#xD;&#xA;var_topNeighbor_col.setValue(topNeighbor.getCol());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Sub sub = new Sub();Sub sub_0 = new Sub();Eq&lt;Number> eq = new Eq&lt;Number>();Eq&lt;Number> eq_0 = new Eq&lt;Number>();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(sub);&#xD;&#xA;csp.getConstraints().add(sub_0);&#xD;&#xA;csp.getConstraints().add(eq);&#xD;&#xA;csp.getConstraints().add(eq_0);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;sub.setRuleName(&quot;&quot;);&#xD;&#xA;sub.solve(var_floor_row,literal0,var_topNeighbor_row);&#xD;&#xA;sub_0.setRuleName(&quot;&quot;);&#xD;&#xA;sub_0.solve(var_floor_col,literal1,var_leftNeighbor_col);&#xD;&#xA;eq.setRuleName(&quot;&quot;);&#xD;&#xA;eq.solve(var_floor_row,var_leftNeighbor_row);&#xD;&#xA;eq_0.setRuleName(&quot;&quot;);&#xD;&#xA;eq_0.solve(var_floor_col,var_topNeighbor_col);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;board&quot;, board);&#xA;match.registerObject(&quot;leftNeighbor&quot;, leftNeighbor);&#xA;match.registerObject(&quot;topNeighbor&quot;, topNeighbor);&#xA;match.registerObject(&quot;floor&quot;, floor);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.4 //@ownedActivityNode.5/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.5 //@ownedActivityNode.5/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__topNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.6 //@ownedActivityNode.5/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextEdges\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextEdges\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__Perform_BWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12 //@ownedActivityNode.2/@storyPattern/@linkVariable.15\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.17\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.8 //@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.13 //@ownedActivityNode.2/@storyPattern/@linkVariable.16\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode__parentNode__rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;parentNode&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__left__leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;left&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__top__topNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.15\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.17 //@ownedActivityNode.2/@storyPattern/@linkVariable.16\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;top&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;columnNode&quot;,&quot;index&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToBoard&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;leftNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;topNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"parentNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.11\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED000574000E666C6F6F722E676574526F772829\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED000574000E666C6F6F722E676574436F6C2829\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740012726F774E6F64652E676574496E6465782829\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.2 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.3 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.4 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.5\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.2 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.3 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.4 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.5\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.2 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.3\"/>\r\n        <source/>\r\n        <target variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.4 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.5\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsApplicable_BWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_floor_row = CspFactory.eINSTANCE.createVariable(&quot;floor.row&quot;, true, csp);&#xD;&#xA;var_floor_row.setValue(floor.getRow());&#xD;&#xA;Variable&lt;Number> var_rowNode_index = CspFactory.eINSTANCE.createVariable(&quot;rowNode.index&quot;, true, csp);&#xD;&#xA;var_rowNode_index.setValue(rowNode.getIndex());&#xD;&#xA;Variable&lt;Number> var_floor_col = CspFactory.eINSTANCE.createVariable(&quot;floor.col&quot;, true, csp);&#xD;&#xA;var_floor_col.setValue(floor.getCol());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;Number> var_columnNode_index = CspFactory.eINSTANCE.createVariable(&quot;columnNode.index&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Eq&lt;Number> eq = new Eq&lt;Number>();Eq&lt;Number> eq_0 = new Eq&lt;Number>();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(eq);&#xD;&#xA;csp.getConstraints().add(eq_0);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;eq.setRuleName(&quot;&quot;);&#xD;&#xA;eq.solve(var_floor_row,var_rowNode_index);&#xD;&#xA;eq_0.setRuleName(&quot;&quot;);&#xD;&#xA;eq_0.solve(var_floor_col,var_columnNode_index);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardNode&quot;,boardNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;rowNode&quot;,rowNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToBoard&quot;,nodeToBoard);&#xD;&#xA;isApplicableMatch.registerObject(&quot;board&quot;,board);&#xD;&#xA;isApplicableMatch.registerObject(&quot;leftNeighbor&quot;,leftNeighbor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;topNeighbor&quot;,topNeighbor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;AllOtherNodeToFloorRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.4 //@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4 //@ownedActivityNode.5/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.5\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.6 //@ownedActivityNode.5/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.6\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.6\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1 //@ownedActivityNode.5/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.3 //@ownedActivityNode.5/@storyPattern/@csp/@variables.4 //@ownedActivityNode.5/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.3 //@ownedActivityNode.5/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.3 //@ownedActivityNode.5/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;leftNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;topNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.4 //@ownedActivityNode.6/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsAppropriate_FWD_Node_2__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"parentNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"parentNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.4 //@ownedActivityNode.6/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsAppropriate_FWD_Node_3__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"parentNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"parentNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.4 //@ownedActivityNode.6/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsAppropriate_FWD_Node_4__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"parentNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"UNEQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"parentNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.4 //@ownedActivityNode.6/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD_Board_0__Board(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/topNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.3\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.4 //@ownedActivityNode.6/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD_Floor_1__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/topNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.4 //@ownedActivityNode.6/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD_Floor_2__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/topNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.3\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.4 //@ownedActivityNode.6/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getAllOtherNodeToFloorRule__IsAppropriate_BWD_Floor_3__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/topNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.4 //@ownedActivityNode.3/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.3 //@ownedActivityNode.3/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/AllOtherNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"AllOtherNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;eq(floor.row, rowNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;&#x9;eq(floor.row, leftNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.col, topNeighbor.col)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.3\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.4 //@ownedActivityNode.6/@storyPattern/@csp/@variables.5\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.6\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.7\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.8\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.3 //@ownedActivityNode.6/@storyPattern/@csp/@variables.9\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"topNeighbor\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD__Match_File_Node_Node_Node_Node_Node_Node_Node_Node_Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3 //@ownedActivityNode.0/@storyPattern/@linkVariable.4 //@ownedActivityNode.0/@storyPattern/@linkVariable.5 //@ownedActivityNode.0/@storyPattern/@linkVariable.6 //@ownedActivityNode.0/@storyPattern/@linkVariable.7 //@ownedActivityNode.0/@storyPattern/@linkVariable.8 //@ownedActivityNode.0/@storyPattern/@linkVariable.9 //@ownedActivityNode.0/@storyPattern/@linkVariable.10 //@ownedActivityNode.0/@storyPattern/@linkVariable.13 //@ownedActivityNode.0/@storyPattern/@linkVariable.16 //@ownedActivityNode.0/@storyPattern/@linkVariable.19 //@ownedActivityNode.0/@storyPattern/@linkVariable.22 //@ownedActivityNode.0/@storyPattern/@linkVariable.25 //@ownedActivityNode.0/@storyPattern/@linkVariable.28 //@ownedActivityNode.0/@storyPattern/@linkVariable.31 //@ownedActivityNode.0/@storyPattern/@linkVariable.34\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"file\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.11\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.12 //@ownedActivityNode.0/@storyPattern/@linkVariable.14 //@ownedActivityNode.0/@storyPattern/@linkVariable.17\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.18 //@ownedActivityNode.0/@storyPattern/@linkVariable.20 //@ownedActivityNode.0/@storyPattern/@linkVariable.23\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.3 //@ownedActivityNode.0/@storyPattern/@linkVariable.21 //@ownedActivityNode.0/@storyPattern/@linkVariable.26\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"colsNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.4 //@ownedActivityNode.0/@storyPattern/@linkVariable.24 //@ownedActivityNode.0/@storyPattern/@linkVariable.29\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.5 //@ownedActivityNode.0/@storyPattern/@linkVariable.27\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.6 //@ownedActivityNode.0/@storyPattern/@linkVariable.30\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.7 //@ownedActivityNode.0/@storyPattern/@linkVariable.15 //@ownedActivityNode.0/@storyPattern/@linkVariable.32\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.8 //@ownedActivityNode.0/@storyPattern/@linkVariable.33 //@ownedActivityNode.0/@storyPattern/@linkVariable.35\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.9 //@ownedActivityNode.0/@storyPattern/@linkVariable.36\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"file__rootNode__boardSpecNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.10\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.11 //@ownedActivityNode.0/@storyPattern/@linkVariable.12\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;rootNode&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode__children__boardNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.13\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.14 //@ownedActivityNode.0/@storyPattern/@linkVariable.15\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode__children__dimensionNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.16\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.17 //@ownedActivityNode.0/@storyPattern/@linkVariable.18\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode__children__rowsNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.19\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.20 //@ownedActivityNode.0/@storyPattern/@linkVariable.21\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode__children__colsNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.22\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.23 //@ownedActivityNode.0/@storyPattern/@linkVariable.24\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowsNode__children__rowCountNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.25\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.26 //@ownedActivityNode.0/@storyPattern/@linkVariable.27\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"colsNode__children__columnCountNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.28\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.29 //@ownedActivityNode.0/@storyPattern/@linkVariable.30\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode__children__topRowNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.31\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.32 //@ownedActivityNode.0/@storyPattern/@linkVariable.33\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowNode__children__topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.34\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.35 //@ownedActivityNode.0/@storyPattern/@linkVariable.36\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.15\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.16\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.16\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.16\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.17\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.17\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.17\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.18\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.18\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.18\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.19\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.19\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.19\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;file&quot;, file);&#xA;match.registerObject(&quot;boardSpecNode&quot;, boardSpecNode);&#xA;match.registerObject(&quot;dimensionNode&quot;, dimensionNode);&#xA;match.registerObject(&quot;rowsNode&quot;, rowsNode);&#xA;match.registerObject(&quot;colsNode&quot;, colsNode);&#xA;match.registerObject(&quot;rowCountNode&quot;, rowCountNode);&#xA;match.registerObject(&quot;columnCountNode&quot;, columnCountNode);&#xA;match.registerObject(&quot;boardNode&quot;, boardNode);&#xA;match.registerObject(&quot;topRowNode&quot;, topRowNode);&#xA;match.registerObject(&quot;topRowLeftColumnNode&quot;, topRowLeftColumnNode);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__Perform_FWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12 //@ownedActivityNode.2/@storyPattern/@linkVariable.15 //@ownedActivityNode.2/@storyPattern/@linkVariable.18 //@ownedActivityNode.2/@storyPattern/@linkVariable.21 //@ownedActivityNode.2/@storyPattern/@linkVariable.24 //@ownedActivityNode.2/@storyPattern/@linkVariable.27 //@ownedActivityNode.2/@storyPattern/@linkVariable.30 //@ownedActivityNode.2/@storyPattern/@linkVariable.33 //@ownedActivityNode.2/@storyPattern/@linkVariable.36 //@ownedActivityNode.2/@storyPattern/@linkVariable.39\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"file\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.8 //@ownedActivityNode.2/@storyPattern/@linkVariable.10 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.16\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"colsNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14 //@ownedActivityNode.2/@storyPattern/@linkVariable.19\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.17\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.20\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.22 //@ownedActivityNode.2/@storyPattern/@linkVariable.29\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.23 //@ownedActivityNode.2/@storyPattern/@linkVariable.25\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.26 //@ownedActivityNode.2/@storyPattern/@linkVariable.35\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.28 //@ownedActivityNode.2/@storyPattern/@linkVariable.31\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.34 //@ownedActivityNode.2/@storyPattern/@linkVariable.37\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.32 //@ownedActivityNode.2/@storyPattern/@linkVariable.40\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.38 //@ownedActivityNode.2/@storyPattern/@linkVariable.41\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"file__rootNode__boardSpecNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;rootNode&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode__children__boardNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode__children__dimensionNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.8 //@ownedActivityNode.2/@storyPattern/@linkVariable.7\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode__children__rowsNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode__children__colsNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowsNode__children__rowCountNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.15\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.17 //@ownedActivityNode.2/@storyPattern/@linkVariable.16\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"colsNode__children__columnCountNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.18\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.20 //@ownedActivityNode.2/@storyPattern/@linkVariable.19\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode__children__topRowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.21\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.23 //@ownedActivityNode.2/@storyPattern/@linkVariable.22\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowNode__children__topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.24\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.26 //@ownedActivityNode.2/@storyPattern/@linkVariable.25\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard__source__boardNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.27\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.28 //@ownedActivityNode.2/@storyPattern/@linkVariable.29\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard__target__board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.30\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.31 //@ownedActivityNode.2/@storyPattern/@linkVariable.32\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.33\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.34 //@ownedActivityNode.2/@storyPattern/@linkVariable.35\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__topLeftFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.36\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.37 //@ownedActivityNode.2/@storyPattern/@linkVariable.38\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__topLeftFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.39\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.40 //@ownedActivityNode.2/@storyPattern/@linkVariable.41\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.16\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.16\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.16\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.17\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.17\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.17\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.18\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.18\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.18\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.19\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.19\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.19\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.20\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.20\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.20\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.21\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.21\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.21\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.22\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.22\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.22\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.23\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.23\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.23\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.24\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.24\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.24\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.25\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.25\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.25\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.26\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.26\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.26\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.27\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.27\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.27\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.28\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.28\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.28\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;file&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardSpecNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;dimensionNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;rowsNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;colsNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;rowCountNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;columnCountNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;topRowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;topRowLeftColumnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2 //@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board/height\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;board&quot;,&quot;height&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board/width\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;board&quot;,&quot;width&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.16\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740016726F77436F756E744E6F64652E6765744E616D652829\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740019636F6C756D6E436F756E744E6F64652E6765744E616D652829\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <source/>\r\n        <target/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.4 //@ownedActivityNode.5/@storyPattern/@linkVariable.5 //@ownedActivityNode.5/@storyPattern/@linkVariable.6 //@ownedActivityNode.5/@storyPattern/@linkVariable.7 //@ownedActivityNode.5/@storyPattern/@linkVariable.8 //@ownedActivityNode.5/@storyPattern/@linkVariable.9 //@ownedActivityNode.5/@storyPattern/@linkVariable.10 //@ownedActivityNode.5/@storyPattern/@linkVariable.11 //@ownedActivityNode.5/@storyPattern/@linkVariable.12 //@ownedActivityNode.5/@storyPattern/@linkVariable.13\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"file\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"colsNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.9\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.11\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.12\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsApplicable_FWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;String> var_rowCountNode_name = CspFactory.eINSTANCE.createVariable(&quot;rowCountNode.name&quot;, true, csp);&#xD;&#xA;var_rowCountNode_name.setValue(rowCountNode.getName());&#xD;&#xA;Variable&lt;String> var_columnCountNode_name = CspFactory.eINSTANCE.createVariable(&quot;columnCountNode.name&quot;, true, csp);&#xD;&#xA;var_columnCountNode_name.setValue(columnCountNode.getName());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;Number> var_board_height = CspFactory.eINSTANCE.createVariable(&quot;board.height&quot;, csp);&#xD;&#xA;Variable&lt;Number> var_board_width = CspFactory.eINSTANCE.createVariable(&quot;board.width&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;StringToNumber stringToNumber = new StringToNumber();StringToNumber stringToNumber_0 = new StringToNumber();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(stringToNumber);&#xD;&#xA;csp.getConstraints().add(stringToNumber_0);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;stringToNumber.setRuleName(&quot;&quot;);&#xD;&#xA;stringToNumber.solve(var_rowCountNode_name,var_board_height);&#xD;&#xA;stringToNumber_0.setRuleName(&quot;&quot;);&#xD;&#xA;stringToNumber_0.solve(var_columnCountNode_name,var_board_width);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;file&quot;,file);&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardSpecNode&quot;,boardSpecNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;dimensionNode&quot;,dimensionNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;rowsNode&quot;,rowsNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;colsNode&quot;,colsNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;rowCountNode&quot;,rowCountNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;columnCountNode&quot;,columnCountNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardNode&quot;,boardNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;topRowNode&quot;,topRowNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;topRowLeftColumnNode&quot;,topRowLeftColumnNode);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BoardNodeToBoardRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.2 //@ownedActivityNode.5/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;file&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;boardSpecNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;dimensionNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;rowsNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;colsNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;rowCountNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;columnCountNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;topRowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;topRowLeftColumnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_BWD__Match_Board_Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__topLeftFloor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.3 //@ownedActivityNode.0/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;board&quot;, board);&#xA;match.registerObject(&quot;topLeftFloor&quot;, topLeftFloor);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__Perform_BWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12 //@ownedActivityNode.2/@storyPattern/@linkVariable.15 //@ownedActivityNode.2/@storyPattern/@linkVariable.18 //@ownedActivityNode.2/@storyPattern/@linkVariable.21 //@ownedActivityNode.2/@storyPattern/@linkVariable.24 //@ownedActivityNode.2/@storyPattern/@linkVariable.27 //@ownedActivityNode.2/@storyPattern/@linkVariable.30 //@ownedActivityNode.2/@storyPattern/@linkVariable.33 //@ownedActivityNode.2/@storyPattern/@linkVariable.36 //@ownedActivityNode.2/@storyPattern/@linkVariable.39\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"file\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.8 //@ownedActivityNode.2/@storyPattern/@linkVariable.10 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.16\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"colsNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14 //@ownedActivityNode.2/@storyPattern/@linkVariable.19\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.17\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.20\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.22 //@ownedActivityNode.2/@storyPattern/@linkVariable.29\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.23 //@ownedActivityNode.2/@storyPattern/@linkVariable.25\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.26 //@ownedActivityNode.2/@storyPattern/@linkVariable.35\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.28 //@ownedActivityNode.2/@storyPattern/@linkVariable.31\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.34 //@ownedActivityNode.2/@storyPattern/@linkVariable.37\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.32 //@ownedActivityNode.2/@storyPattern/@linkVariable.40\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.38 //@ownedActivityNode.2/@storyPattern/@linkVariable.41\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"file__rootNode__boardSpecNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;rootNode&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode__children__boardNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode__children__dimensionNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode__children__rowsNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10 //@ownedActivityNode.2/@storyPattern/@linkVariable.11\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode__children__colsNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.13 //@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowsNode__children__rowCountNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.15\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.16 //@ownedActivityNode.2/@storyPattern/@linkVariable.17\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"colsNode__children__columnCountNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.18\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.19 //@ownedActivityNode.2/@storyPattern/@linkVariable.20\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode__children__topRowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.21\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.22 //@ownedActivityNode.2/@storyPattern/@linkVariable.23\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowNode__children__topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.24\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.25 //@ownedActivityNode.2/@storyPattern/@linkVariable.26\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard__source__boardNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.27\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.28 //@ownedActivityNode.2/@storyPattern/@linkVariable.29\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard__target__board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.30\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.31 //@ownedActivityNode.2/@storyPattern/@linkVariable.32\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.33\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.34 //@ownedActivityNode.2/@storyPattern/@linkVariable.35\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__topLeftFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.36\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.37 //@ownedActivityNode.2/@storyPattern/@linkVariable.38\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__topLeftFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.39\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.41 //@ownedActivityNode.2/@storyPattern/@linkVariable.40\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.15\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.16\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.16\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.16\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.17\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.17\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.17\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.18\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.18\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.18\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.19\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.19\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.19\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.20\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.20\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.20\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.21\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.21\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.21\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.22\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.22\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.22\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.23\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.23\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.23\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.24\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.24\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.24\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.25\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.25\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.25\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.26\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.26\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.26\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.27\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.27\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.27\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.28\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.28\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.28\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"(java.lang.String)csp.getAttributeVariable(&quot;rowCountNode&quot;,&quot;name&quot;).getValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"(java.lang.String)csp.getAttributeVariable(&quot;columnCountNode&quot;,&quot;name&quot;).getValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8 //@ownedActivityNode.3/@storyPattern/@linkVariable.11\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.9 //@ownedActivityNode.3/@storyPattern/@linkVariable.10\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.11 //@ownedActivityNode.3/@storyPattern/@linkVariable.12\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.12\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;topLeftFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.13\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.16\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740011626F6172642E6765744865696768742829\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740010626F6172642E67657457696474682829\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <source/>\r\n        <target/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.4 //@ownedActivityNode.5/@storyPattern/@linkVariable.5 //@ownedActivityNode.5/@storyPattern/@linkVariable.6 //@ownedActivityNode.5/@storyPattern/@linkVariable.7 //@ownedActivityNode.5/@storyPattern/@linkVariable.8 //@ownedActivityNode.5/@storyPattern/@linkVariable.9 //@ownedActivityNode.5/@storyPattern/@linkVariable.10 //@ownedActivityNode.5/@storyPattern/@linkVariable.11 //@ownedActivityNode.5/@storyPattern/@linkVariable.12 //@ownedActivityNode.5/@storyPattern/@linkVariable.13\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"file\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"colsNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.9\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.11\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.12\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsApplicable_BWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_board_height = CspFactory.eINSTANCE.createVariable(&quot;board.height&quot;, true, csp);&#xD;&#xA;var_board_height.setValue(board.getHeight());&#xD;&#xA;Variable&lt;Number> var_board_width = CspFactory.eINSTANCE.createVariable(&quot;board.width&quot;, true, csp);&#xD;&#xA;var_board_width.setValue(board.getWidth());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;String> var_rowCountNode_name = CspFactory.eINSTANCE.createVariable(&quot;rowCountNode.name&quot;, csp);&#xD;&#xA;Variable&lt;String> var_columnCountNode_name = CspFactory.eINSTANCE.createVariable(&quot;columnCountNode.name&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;StringToNumber stringToNumber = new StringToNumber();StringToNumber stringToNumber_0 = new StringToNumber();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(stringToNumber);&#xD;&#xA;csp.getConstraints().add(stringToNumber_0);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;stringToNumber.setRuleName(&quot;&quot;);&#xD;&#xA;stringToNumber.solve(var_rowCountNode_name,var_board_height);&#xD;&#xA;stringToNumber_0.setRuleName(&quot;&quot;);&#xD;&#xA;stringToNumber_0.solve(var_columnCountNode_name,var_board_width);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;board&quot;,board);&#xD;&#xA;isApplicableMatch.registerObject(&quot;topLeftFloor&quot;,topLeftFloor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BoardNodeToBoardRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.2 //@ownedActivityNode.5/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topLeftFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;topLeftFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_File_0__File(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_5__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_6__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_7__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_8__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_9__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_10__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_11__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_12__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_FWD_Node_13__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"file\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/file\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardSpecNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardSpecNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"dimensionNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/dimensionNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"colsNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/colsNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/rowCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnCountNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/columnCountNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topRowLeftColumnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD/topRowLeftColumnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3 //@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"file\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//File\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardSpecNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD_SPEC&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"dimensionNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3 //@ownedActivityNode.6/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;DIMENSIONS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROWS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"colsNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLS&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.5\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnCountNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.6\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"1\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.7\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topRowLeftColumnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"rootNode\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.7\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.8\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_BWD_Board_1__Board(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topLeftFloor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_BWD/topLeftFloor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getBoardNodeToBoardRule__IsAppropriate_BWD_Floor_4__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topLeftFloor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_BWD/topLeftFloor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/BoardNodeToBoardRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"BoardNodeToBoardRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;stringToNumber(rowCountNode.name, board.height)&#xD;&#xA;&#x9;&#x9;stringToNumber(columnCountNode.name, board.width)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topLeftFloor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.2 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"stringToNumber\">\r\n          <signature type=\"EString\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"rowCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"height\" objectVariable=\"board\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"String\" attribute=\"name\" objectVariable=\"columnCountNode\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"width\" objectVariable=\"board\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;floorNode&quot;, floorNode);&#xA;match.registerObject(&quot;figureNode&quot;, figureNode);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__Perform_FWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"goal\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__goal\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;.&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;figureNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"goal\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"goal\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__IsApplicable_FWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;floorNode&quot;,floorNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;figureNode&quot;,figureNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToFloor&quot;,nodeToFloor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;GoalNodeToFigureRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;.&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;.&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;figureNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Goal(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"goal\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__goal\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;floor&quot;, floor);&#xA;match.registerObject(&quot;goal&quot;, goal);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__Perform_BWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"goal\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__goal\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;.&quot;\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"goal\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;goal&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"goal\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__IsApplicable_BWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;floorNode&quot;,floorNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToFloor&quot;,nodeToFloor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;goal&quot;,goal);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;GoalNodeToFigureRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"goal\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"goal\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;goal&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__IsAppropriate_FWD_Node_14__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floorNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_FWD/floorNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"figureNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_FWD/figureNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;.&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;.&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__IsAppropriate_FWD_Node_15__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floorNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_FWD/floorNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"figureNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_FWD/figureNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;.&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;.&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__IsAppropriate_BWD_Floor_5__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"goal\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_BWD/goal\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"goal\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"goal\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getGoalNodeToFigureRule__IsAppropriate_BWD_Goal_0__Goal(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"goal\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_BWD/goal\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"goal\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/GoalNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"GoalNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"goal\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Goal\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_FWD__Match_Node_Node_Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.4 //@ownedActivityNode.0/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode__children__rowNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.3 //@ownedActivityNode.0/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode__children__columnNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.5\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.6 //@ownedActivityNode.0/@storyPattern/@linkVariable.7\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;boardNode&quot;, boardNode);&#xA;match.registerObject(&quot;rowNode&quot;, rowNode);&#xA;match.registerObject(&quot;columnNode&quot;, columnNode);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__Perform_FWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12 //@ownedActivityNode.2/@storyPattern/@linkVariable.15\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.17\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.14 //@ownedActivityNode.2/@storyPattern/@linkVariable.16\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode__children__rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode__children__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10 //@ownedActivityNode.2/@storyPattern/@linkVariable.11\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.13 //@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__top__topNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.15\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.16 //@ownedActivityNode.2/@storyPattern/@linkVariable.17\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;top&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;columnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToBoard&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;topNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;floor&quot;,&quot;row&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740014746F704E65696768626F722E676574526F772829\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740012726F774E6F64652E676574496E6465782829\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <source/>\r\n        <target variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsApplicable_FWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;Variable&lt;Number> literal0 = CspFactory.eINSTANCE.createVariable(&quot;literal0&quot;, true, csp);&#xD;&#xA;literal0.setValue(1);&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_topNeighbor_row = CspFactory.eINSTANCE.createVariable(&quot;topNeighbor.row&quot;, true, csp);&#xD;&#xA;var_topNeighbor_row.setValue(topNeighbor.getRow());&#xD;&#xA;Variable&lt;Number> var_rowNode_index = CspFactory.eINSTANCE.createVariable(&quot;rowNode.index&quot;, true, csp);&#xD;&#xA;var_rowNode_index.setValue(rowNode.getIndex());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;Number> var_floor_row = CspFactory.eINSTANCE.createVariable(&quot;floor.row&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Sub sub = new Sub();Eq&lt;Number> eq = new Eq&lt;Number>();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(sub);&#xD;&#xA;csp.getConstraints().add(eq);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;sub.setRuleName(&quot;&quot;);&#xD;&#xA;sub.solve(var_floor_row,literal0,var_topNeighbor_row);&#xD;&#xA;eq.setRuleName(&quot;&quot;);&#xD;&#xA;eq.solve(var_floor_row,var_rowNode_index);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardNode&quot;,boardNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;rowNode&quot;,rowNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;columnNode&quot;,columnNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToBoard&quot;,nodeToBoard);&#xD;&#xA;isApplicableMatch.registerObject(&quot;board&quot;,board);&#xD;&#xA;isApplicableMatch.registerObject(&quot;topNeighbor&quot;,topNeighbor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;LeftcolumnNodeToFloorRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1 //@ownedActivityNode.5/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;columnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_BWD__Match_Board_Floor_Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3 //@ownedActivityNode.0/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__top__topNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.5 //@ownedActivityNode.0/@storyPattern/@linkVariable.6\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;top&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;Variable&lt;Number> literal0 = CspFactory.eINSTANCE.createVariable(&quot;literal0&quot;, true, csp);&#xD;&#xA;literal0.setValue(1);&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_floor_row = CspFactory.eINSTANCE.createVariable(&quot;floor.row&quot;, true, csp);&#xD;&#xA;var_floor_row.setValue(floor.getRow());&#xD;&#xA;Variable&lt;Number> var_topNeighbor_row = CspFactory.eINSTANCE.createVariable(&quot;topNeighbor.row&quot;, true, csp);&#xD;&#xA;var_topNeighbor_row.setValue(topNeighbor.getRow());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Sub sub = new Sub();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(sub);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;sub.setRuleName(&quot;&quot;);&#xD;&#xA;sub.solve(var_floor_row,literal0,var_topNeighbor_row);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;board&quot;, board);&#xA;match.registerObject(&quot;topNeighbor&quot;, topNeighbor);&#xA;match.registerObject(&quot;floor&quot;, floor);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__topNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextEdges\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__Perform_BWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12 //@ownedActivityNode.2/@storyPattern/@linkVariable.15\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.17\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.14 //@ownedActivityNode.2/@storyPattern/@linkVariable.16\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode__children__rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode__children__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10 //@ownedActivityNode.2/@storyPattern/@linkVariable.11\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__top__topNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.15\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.17 //@ownedActivityNode.2/@storyPattern/@linkVariable.16\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;top&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.14\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;rowNode&quot;,&quot;index&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToBoard&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2 //@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;topNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED000574000E666C6F6F722E676574526F772829\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <source/>\r\n        <target variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsApplicable_BWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_floor_row = CspFactory.eINSTANCE.createVariable(&quot;floor.row&quot;, true, csp);&#xD;&#xA;var_floor_row.setValue(floor.getRow());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;Number> var_rowNode_index = CspFactory.eINSTANCE.createVariable(&quot;rowNode.index&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Eq&lt;Number> eq = new Eq&lt;Number>();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(eq);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;eq.setRuleName(&quot;&quot;);&#xD;&#xA;eq.solve(var_floor_row,var_rowNode_index);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardNode&quot;,boardNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToBoard&quot;,nodeToBoard);&#xD;&#xA;isApplicableMatch.registerObject(&quot;board&quot;,board);&#xD;&#xA;isApplicableMatch.registerObject(&quot;topNeighbor&quot;,topNeighbor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;LeftcolumnNodeToFloorRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1 //@ownedActivityNode.5/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;topNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_FWD_Node_16__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_FWD_Node_17__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_FWD_Node_18__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_BWD_Board_2__Board(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/topNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_BWD_Floor_6__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/topNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getLeftcolumnNodeToFloorRule__IsAppropriate_BWD_Floor_7__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"topNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/topNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/LeftcolumnNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"LeftcolumnNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.row, 1, topNeighbor.row)&#xD;&#xA;&#x9;&#x9;eq(floor.row , rowNode.index)&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"topNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.7\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"top\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"row\" objectVariable=\"topNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"rowNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;floorNode&quot;, floorNode);&#xA;match.registerObject(&quot;figureNode&quot;, figureNode);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__Perform_FWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"server\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__server\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;$&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;figureNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"server\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"server\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__IsApplicable_FWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;floorNode&quot;,floorNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;figureNode&quot;,figureNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToFloor&quot;,nodeToFloor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ServerNodeToFigureRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;$&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;$&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;figureNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Server(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"server\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__server\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;floor&quot;, floor);&#xA;match.registerObject(&quot;server&quot;, server);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__Perform_BWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"server\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__server\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;$&quot;\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"server\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;server&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"server\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__IsApplicable_BWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;floorNode&quot;,floorNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToFloor&quot;,nodeToFloor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;server&quot;,server);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ServerNodeToFigureRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"server\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"server\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;server&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__IsAppropriate_FWD_Node_19__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floorNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_FWD/floorNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"figureNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_FWD/figureNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;$&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;$&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__IsAppropriate_FWD_Node_20__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floorNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_FWD/floorNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"figureNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_FWD/figureNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;$&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;$&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__IsAppropriate_BWD_Floor_8__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"server\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_BWD/server\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"server\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"server\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getServerNodeToFigureRule__IsAppropriate_BWD_Server_0__Server(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"server\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_BWD/server\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"server\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/ServerNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"ServerNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"server\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Server\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsAppropriate_FWD__Match_Node_Node_Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode__children__columnNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;boardNode&quot;, boardNode);&#xA;match.registerObject(&quot;rowNode&quot;, rowNode);&#xA;match.registerObject(&quot;columnNode&quot;, columnNode);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode__children__rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextEdges\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__Perform_FWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.8 //@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode__children__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10 //@ownedActivityNode.2/@storyPattern/@linkVariable.11\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__left__leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.13 //@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;left&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;columnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToBoard&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;leftNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;floor&quot;,&quot;col&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED00057400156C6566744E65696768626F722E676574436F6C2829\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740015636F6C756D6E4E6F64652E676574496E6465782829\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <source/>\r\n        <target variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsApplicable_FWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;Variable&lt;Number> literal0 = CspFactory.eINSTANCE.createVariable(&quot;literal0&quot;, true, csp);&#xD;&#xA;literal0.setValue(1);&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_leftNeighbor_col = CspFactory.eINSTANCE.createVariable(&quot;leftNeighbor.col&quot;, true, csp);&#xD;&#xA;var_leftNeighbor_col.setValue(leftNeighbor.getCol());&#xD;&#xA;Variable&lt;Number> var_columnNode_index = CspFactory.eINSTANCE.createVariable(&quot;columnNode.index&quot;, true, csp);&#xD;&#xA;var_columnNode_index.setValue(columnNode.getIndex());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;Number> var_floor_col = CspFactory.eINSTANCE.createVariable(&quot;floor.col&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Sub sub = new Sub();Eq&lt;Number> eq = new Eq&lt;Number>();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(sub);&#xD;&#xA;csp.getConstraints().add(eq);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;sub.setRuleName(&quot;&quot;);&#xD;&#xA;sub.solve(var_floor_col,literal0,var_leftNeighbor_col);&#xD;&#xA;eq.setRuleName(&quot;&quot;);&#xD;&#xA;eq.solve(var_floor_col,var_columnNode_index);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardNode&quot;,boardNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;rowNode&quot;,rowNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;columnNode&quot;,columnNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToBoard&quot;,nodeToBoard);&#xD;&#xA;isApplicableMatch.registerObject(&quot;board&quot;,board);&#xD;&#xA;isApplicableMatch.registerObject(&quot;leftNeighbor&quot;,leftNeighbor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;TopRowNodeToFloorRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1 //@ownedActivityNode.5/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;columnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsAppropriate_BWD__Match_Board_Floor_Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3 //@ownedActivityNode.0/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__left__leftNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.5 //@ownedActivityNode.0/@storyPattern/@linkVariable.6\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;left&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;Variable&lt;Number> literal0 = CspFactory.eINSTANCE.createVariable(&quot;literal0&quot;, true, csp);&#xD;&#xA;literal0.setValue(1);&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_floor_col = CspFactory.eINSTANCE.createVariable(&quot;floor.col&quot;, true, csp);&#xD;&#xA;var_floor_col.setValue(floor.getCol());&#xD;&#xA;Variable&lt;Number> var_leftNeighbor_col = CspFactory.eINSTANCE.createVariable(&quot;leftNeighbor.col&quot;, true, csp);&#xD;&#xA;var_leftNeighbor_col.setValue(leftNeighbor.getCol());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Sub sub = new Sub();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(sub);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;sub.setRuleName(&quot;&quot;);&#xD;&#xA;sub.solve(var_floor_col,literal0,var_leftNeighbor_col);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;board&quot;, board);&#xA;match.registerObject(&quot;leftNeighbor&quot;, leftNeighbor);&#xA;match.registerObject(&quot;floor&quot;, floor);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextEdges\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__Perform_BWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.8 //@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode__children__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__left__leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;left&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;columnNode&quot;,&quot;index&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToBoard&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;leftNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED000574000E666C6F6F722E676574436F6C2829\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <source/>\r\n        <target variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsApplicable_BWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_floor_col = CspFactory.eINSTANCE.createVariable(&quot;floor.col&quot;, true, csp);&#xD;&#xA;var_floor_col.setValue(floor.getCol());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;Number> var_columnNode_index = CspFactory.eINSTANCE.createVariable(&quot;columnNode.index&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Eq&lt;Number> eq = new Eq&lt;Number>();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(eq);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;eq.setRuleName(&quot;&quot;);&#xD;&#xA;eq.solve(var_floor_col,var_columnNode_index);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardNode&quot;,boardNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;rowNode&quot;,rowNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToBoard&quot;,nodeToBoard);&#xD;&#xA;isApplicableMatch.registerObject(&quot;board&quot;,board);&#xD;&#xA;isApplicableMatch.registerObject(&quot;leftNeighbor&quot;,leftNeighbor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;TopRowNodeToFloorRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1 //@ownedActivityNode.5/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;leftNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsAppropriate_FWD_Node_21__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsAppropriate_FWD_Node_22__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsAppropriate_FWD_Node_23__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsAppropriate_BWD_Board_3__Board(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsAppropriate_BWD_Floor_9__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getTopRowNodeToFloorRule__IsAppropriate_BWD_Floor_10__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__IsAppropriate_FWD__Match_Node_Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;floorNode&quot;, floorNode);&#xA;match.registerObject(&quot;figureNode&quot;, figureNode);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__Perform_FWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"wall\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__wall\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;#&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;figureNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"wall\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"wall\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__IsApplicable_FWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;floorNode&quot;,floorNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;figureNode&quot;,figureNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToFloor&quot;,nodeToFloor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;WallNodeToFigureRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;#&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;#&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;figureNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__IsAppropriate_BWD__Match_Floor_Wall(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"wall\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__wall\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;floor&quot;, floor);&#xA;match.registerObject(&quot;wall&quot;, wall);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__Perform_BWD__IsApplicableMatch(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"wall\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floorNode__children__figureNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__figure__wall\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.5 //@ownedActivityNode.2/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;figure&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floorNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;#&quot;\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToFloor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"wall\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;wall&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"figureNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"wall\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__IsApplicable_BWD__Match(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;floorNode&quot;,floorNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToFloor&quot;,nodeToFloor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;wall&quot;,wall);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"true;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;WallNodeToFigureRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"wall\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"wall\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;wall&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__IsAppropriate_FWD_Node_24__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floorNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_FWD/floorNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"figureNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_FWD/figureNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;#&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;#&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__IsAppropriate_FWD_Node_25__Node(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floorNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_FWD/floorNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"figureNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_FWD/figureNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;#&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floorNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"figureNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;#&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__IsAppropriate_BWD_Floor_11__Floor(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"wall\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_BWD/wall\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"wall\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"wall\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
		addAnnotation(
				getWallNodeToFigureRule__IsAppropriate_BWD_Wall_0__Wall(),
				source,
				new String[] {
						"XMI",
						"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"wall\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_BWD/wall\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"wall\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/WallNodeToFigureRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"WallNodeToFigureRule\" cspSpec=\"&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"wall\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Wall\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"figure\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n" });
	}

} //RulesPackageImpl
