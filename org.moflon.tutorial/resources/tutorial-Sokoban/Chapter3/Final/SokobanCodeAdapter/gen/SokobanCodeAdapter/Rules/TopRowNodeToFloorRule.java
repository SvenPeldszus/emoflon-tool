/**
 */
package SokobanCodeAdapter.Rules;

import MocaTree.File;
import MocaTree.MocaTreeFactory;
import MocaTree.Node;

import SokobanCodeAdapter.NodeToBoard;
import SokobanCodeAdapter.NodeToFloor;
import SokobanCodeAdapter.SokobanCodeAdapterFactory;

import SokobanLanguage.Admin;
import SokobanLanguage.Board;
import SokobanLanguage.Floor;
import SokobanLanguage.Goal;
import SokobanLanguage.Server;
import SokobanLanguage.SokobanLanguageFactory;
import SokobanLanguage.Wall;

import TGGLanguage.csp.*;

import TGGRuntime.AbstractRule;
import TGGRuntime.Edge;
import TGGRuntime.IsApplicableMatch;
import TGGRuntime.IsApplicableRuleResult;
import TGGRuntime.IsAppropriateRuleResult;
import TGGRuntime.Match;
import TGGRuntime.PerformRuleResult;
import TGGRuntime.TGGRuntimeFactory;

import csp.constraints.*;

import de.upb.tools.sdm.*;

import java.util.*;

import org.eclipse.emf.ecore.EClass;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.EOperation;

/**
 * <!-- begin-user-doc -->
 * A representation of the model object '<em><b>Top Row Node To Floor Rule</b></em>'.
 * <!-- end-user-doc -->
 *
 *
 * @see SokobanCodeAdapter.Rules.RulesPackage#getTopRowNodeToFloorRule()
 * @model
 * @generated
 */
public interface TopRowNodeToFloorRule extends EObject, AbstractRule {
	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.8 //@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode__children__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10 //@ownedActivityNode.2/@storyPattern/@linkVariable.11\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__left__leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.13 //@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;left&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;columnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToBoard&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;leftNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/col\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;floor&quot;,&quot;col&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.5\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED00057400156C6566744E65696768626F722E676574436F6C2829\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED0005740015636F6C756D6E4E6F64652E676574496E6465782829\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <source/>\r\n        <target variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      Board board = null;\n      Node boardNode = null;\n      Node columnNode = null;\n      Floor leftNeighbor = null;\n      NodeToBoard nodeToBoard = null;\n      Node rowNode = null;\n      Iterator fujaba__IterIsApplicableMatchToCsp = null;\n      CSP csp = null;\n      NodeToFloor nodeToFloor = null;\n      Floor floor = null;\n      PerformRuleResult ruleresult = null;\n      Edge rowNode__children__columnNode = null;\n      Edge nodeToFloor__source__columnNode = null;\n      Edge nodeToFloor__target__floor = null;\n      Edge floor__left__leftNeighbor = null;\n      Edge board__floors__floor = null;\n\n      // story node \'perform transformation\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (isApplicableMatch.getObject(\"board\"));\n\n         // ensure correct type and really bound of object board\n         JavaSDM.ensure ( _TmpObject instanceof Board );\n         board = (Board) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"boardNode\"));\n\n         // ensure correct type and really bound of object boardNode\n         JavaSDM.ensure ( _TmpObject instanceof Node );\n         boardNode = (Node) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"columnNode\"));\n\n         // ensure correct type and really bound of object columnNode\n         JavaSDM.ensure ( _TmpObject instanceof Node );\n         columnNode = (Node) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"leftNeighbor\"));\n\n         // ensure correct type and really bound of object leftNeighbor\n         JavaSDM.ensure ( _TmpObject instanceof Floor );\n         leftNeighbor = (Floor) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"nodeToBoard\"));\n\n         // ensure correct type and really bound of object nodeToBoard\n         JavaSDM.ensure ( _TmpObject instanceof NodeToBoard );\n         nodeToBoard = (NodeToBoard) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"rowNode\"));\n\n         // ensure correct type and really bound of object rowNode\n         JavaSDM.ensure ( _TmpObject instanceof Node );\n         rowNode = (Node) _TmpObject;\n         // check object isApplicableMatch is really bound\n         JavaSDM.ensure ( isApplicableMatch != null );\n         // check isomorphic binding between objects columnNode and boardNode \n         JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n         // check isomorphic binding between objects rowNode and boardNode \n         JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n         // check isomorphic binding between objects rowNode and columnNode \n         JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n         // iterate to-many link attributeInfo from isApplicableMatch to csp\n         fujaba__Success = false;\n\n         fujaba__IterIsApplicableMatchToCsp = isApplicableMatch.getAttributeInfo().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterIsApplicableMatchToCsp.hasNext () )\n         {\n            try\n            {\n               _TmpObject =  fujaba__IterIsApplicableMatchToCsp.next ();\n\n               // ensure correct type and really bound of object csp\n               JavaSDM.ensure ( _TmpObject instanceof CSP );\n               csp = (CSP) _TmpObject;\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         if (!fujaba__Success)\n         {\n            fujaba__Success = true;\n            csp = null;\n         }\n         // attribute condition\n         JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (columnNode.getName (), \"COLUMN\") == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n         // create object nodeToFloor\n         nodeToFloor = SokobanCodeAdapterFactory.eINSTANCE.createNodeToFloor();\n\n         // create object floor\n         floor = SokobanLanguageFactory.eINSTANCE.createFloor();\n\n         // assign attribute floor\n         floor.setRow (0);\n         // assign attribute floor\n         floor.setCol (((Number)csp.getAttributeVariable(\"floor\",\"col\").getValue()).intValue());\n\n         // create link\n         nodeToFloor.setSource( columnNode);\n\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(nodeToFloor,floor,\"target\");\n\n         // create link\n         floor.setBoard( board);\n\n\n         // create link\n         floor.setLeft( leftNeighbor);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'collect translated elements\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object columnNode is really bound\n         JavaSDM.ensure ( columnNode != null );\n         // check object floor is really bound\n         JavaSDM.ensure ( floor != null );\n         // check object nodeToFloor is really bound\n         JavaSDM.ensure ( nodeToFloor != null );\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createPerformRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (true);\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,nodeToFloor,\"createdLinkElements\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,floor,\"createdElements\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,columnNode,\"translatedElements\");\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'bookkeeping for edges\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object board is really bound\n         JavaSDM.ensure ( board != null );\n         // check object boardNode is really bound\n         JavaSDM.ensure ( boardNode != null );\n         // check object columnNode is really bound\n         JavaSDM.ensure ( columnNode != null );\n         // check object floor is really bound\n         JavaSDM.ensure ( floor != null );\n         // check object leftNeighbor is really bound\n         JavaSDM.ensure ( leftNeighbor != null );\n         // check object nodeToBoard is really bound\n         JavaSDM.ensure ( nodeToBoard != null );\n         // check object nodeToFloor is really bound\n         JavaSDM.ensure ( nodeToFloor != null );\n         // check object rowNode is really bound\n         JavaSDM.ensure ( rowNode != null );\n         // check object ruleresult is really bound\n         JavaSDM.ensure ( ruleresult != null );\n         // check isomorphic binding between objects boardNode and board \n         JavaSDM.ensure ( !boardNode.equals (board) );\n\n         // check isomorphic binding between objects columnNode and board \n         JavaSDM.ensure ( !columnNode.equals (board) );\n\n         // check isomorphic binding between objects floor and board \n         JavaSDM.ensure ( !floor.equals (board) );\n\n         // check isomorphic binding between objects leftNeighbor and board \n         JavaSDM.ensure ( !leftNeighbor.equals (board) );\n\n         // check isomorphic binding between objects nodeToBoard and board \n         JavaSDM.ensure ( !nodeToBoard.equals (board) );\n\n         // check isomorphic binding between objects nodeToFloor and board \n         JavaSDM.ensure ( !nodeToFloor.equals (board) );\n\n         // check isomorphic binding between objects rowNode and board \n         JavaSDM.ensure ( !rowNode.equals (board) );\n\n         // check isomorphic binding between objects columnNode and boardNode \n         JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n         // check isomorphic binding between objects floor and boardNode \n         JavaSDM.ensure ( !floor.equals (boardNode) );\n\n         // check isomorphic binding between objects leftNeighbor and boardNode \n         JavaSDM.ensure ( !leftNeighbor.equals (boardNode) );\n\n         // check isomorphic binding between objects nodeToBoard and boardNode \n         JavaSDM.ensure ( !nodeToBoard.equals (boardNode) );\n\n         // check isomorphic binding between objects nodeToFloor and boardNode \n         JavaSDM.ensure ( !nodeToFloor.equals (boardNode) );\n\n         // check isomorphic binding between objects rowNode and boardNode \n         JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n         // check isomorphic binding between objects floor and columnNode \n         JavaSDM.ensure ( !floor.equals (columnNode) );\n\n         // check isomorphic binding between objects leftNeighbor and columnNode \n         JavaSDM.ensure ( !leftNeighbor.equals (columnNode) );\n\n         // check isomorphic binding between objects nodeToBoard and columnNode \n         JavaSDM.ensure ( !nodeToBoard.equals (columnNode) );\n\n         // check isomorphic binding between objects nodeToFloor and columnNode \n         JavaSDM.ensure ( !nodeToFloor.equals (columnNode) );\n\n         // check isomorphic binding between objects rowNode and columnNode \n         JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n         // check isomorphic binding between objects leftNeighbor and floor \n         JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n         // check isomorphic binding between objects nodeToBoard and floor \n         JavaSDM.ensure ( !nodeToBoard.equals (floor) );\n\n         // check isomorphic binding between objects nodeToFloor and floor \n         JavaSDM.ensure ( !nodeToFloor.equals (floor) );\n\n         // check isomorphic binding between objects rowNode and floor \n         JavaSDM.ensure ( !rowNode.equals (floor) );\n\n         // check isomorphic binding between objects nodeToBoard and leftNeighbor \n         JavaSDM.ensure ( !nodeToBoard.equals (leftNeighbor) );\n\n         // check isomorphic binding between objects nodeToFloor and leftNeighbor \n         JavaSDM.ensure ( !nodeToFloor.equals (leftNeighbor) );\n\n         // check isomorphic binding between objects rowNode and leftNeighbor \n         JavaSDM.ensure ( !rowNode.equals (leftNeighbor) );\n\n         // check isomorphic binding between objects nodeToFloor and nodeToBoard \n         JavaSDM.ensure ( !nodeToFloor.equals (nodeToBoard) );\n\n         // check isomorphic binding between objects rowNode and nodeToBoard \n         JavaSDM.ensure ( !rowNode.equals (nodeToBoard) );\n\n         // check isomorphic binding between objects rowNode and nodeToFloor \n         JavaSDM.ensure ( !rowNode.equals (nodeToFloor) );\n\n         // create object rowNode__children__columnNode\n         rowNode__children__columnNode = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // create object nodeToFloor__source__columnNode\n         nodeToFloor__source__columnNode = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // create object nodeToFloor__target__floor\n         nodeToFloor__target__floor = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // create object floor__left__leftNeighbor\n         floor__left__leftNeighbor = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // create object board__floors__floor\n         board__floors__floor = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // assign attribute rowNode__children__columnNode\n         rowNode__children__columnNode.setName (\"children\");\n         // assign attribute nodeToFloor__source__columnNode\n         nodeToFloor__source__columnNode.setName (\"source\");\n         // assign attribute nodeToFloor__target__floor\n         nodeToFloor__target__floor.setName (\"target\");\n         // assign attribute board__floors__floor\n         board__floors__floor.setName (\"floors\");\n         // assign attribute floor__left__leftNeighbor\n         floor__left__leftNeighbor.setName (\"left\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,rowNode__children__columnNode,\"translatedEdges\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,nodeToFloor__source__columnNode,\"createdEdges\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,nodeToFloor__target__floor,\"createdEdges\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,floor__left__leftNeighbor,\"createdEdges\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,board__floors__floor,\"createdEdges\");\n\n         // create link\n         rowNode__children__columnNode.setSrc( rowNode);\n\n\n         // create link\n         rowNode__children__columnNode.setTrg( columnNode);\n\n\n         // create link\n         nodeToFloor__source__columnNode.setTrg( columnNode);\n\n\n         // create link\n         nodeToFloor__source__columnNode.setSrc( nodeToFloor);\n\n\n         // create link\n         nodeToFloor__target__floor.setSrc( nodeToFloor);\n\n\n         // create link\n         board__floors__floor.setSrc( board);\n\n\n         // create link\n         floor__left__leftNeighbor.setTrg( leftNeighbor);\n\n\n         // create link\n         nodeToFloor__target__floor.setTrg( floor);\n\n\n         // create link\n         board__floors__floor.setTrg( floor);\n\n\n         // create link\n         floor__left__leftNeighbor.setSrc( floor);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // statement node \'perform postprocessing\'\n      // No post processing method found\n      return ruleresult;'"
	 * @generated
	 */
	PerformRuleResult perform_FWD(IsApplicableMatch isApplicableMatch);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode__children__columnNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;boardNode&quot;, boardNode);&#xA;match.registerObject(&quot;rowNode&quot;, rowNode);&#xA;match.registerObject(&quot;columnNode&quot;, columnNode);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode__children__rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextEdges\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Edge rowNode__children__columnNode = null;\n      Edge boardNode__children__rowNode = null;\n\n      // statement node \'Solve CSP\'\n      // Create CSP\n      CSP csp = CspFactory.eINSTANCE.createCSP();\n\n      // Create literals\n\n      // Create attribute variables\n\n      // Create explicit parameters\n\n      // Create unbound variables\n\n      // Create constraints\n\n\n\n\n      // Solve CSP\n\n      // statement node \'Check CSP\'\n      fujaba__Success = csp.check();\n      if (fujaba__Success)\n      {\n         // story node \'collect elements to be translated\'\n         try \n         {\n            fujaba__Success = false; \n\n            // check object columnNode is really bound\n            JavaSDM.ensure ( columnNode != null );\n            // check object match is really bound\n            JavaSDM.ensure ( match != null );\n            // check object rowNode is really bound\n            JavaSDM.ensure ( rowNode != null );\n            // check isomorphic binding between objects rowNode and columnNode \n            JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n            // create object rowNode__children__columnNode\n            rowNode__children__columnNode = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n            // assign attribute rowNode__children__columnNode\n            rowNode__children__columnNode.setName (\"children\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,columnNode,\"toBeTranslatedElements\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,rowNode__children__columnNode,\"toBeTranslatedEdges\");\n\n            // create link\n            rowNode__children__columnNode.setTrg( columnNode);\n\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(rowNode__children__columnNode,rowNode,\"src\");\n            fujaba__Success = true;\n         }\n         catch ( JavaSDMException fujaba__InternalException )\n         {\n            fujaba__Success = false;\n         }\n\n         // story node \'collect context elements\'\n         try \n         {\n            fujaba__Success = false; \n\n            // check object boardNode is really bound\n            JavaSDM.ensure ( boardNode != null );\n            // check object match is really bound\n            JavaSDM.ensure ( match != null );\n            // check object rowNode is really bound\n            JavaSDM.ensure ( rowNode != null );\n            // check isomorphic binding between objects rowNode and boardNode \n            JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n            // create object boardNode__children__rowNode\n            boardNode__children__rowNode = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n            // assign attribute boardNode__children__rowNode\n            boardNode__children__rowNode.setName (\"children\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,boardNode__children__rowNode,\"contextEdges\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,boardNode,\"contextNodes\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,rowNode,\"contextNodes\");\n\n            // create link\n            boardNode__children__rowNode.setSrc( boardNode);\n\n\n            // create link\n            boardNode__children__rowNode.setTrg( rowNode);\n\n            fujaba__Success = true;\n         }\n         catch ( JavaSDMException fujaba__InternalException )\n         {\n            fujaba__Success = false;\n         }\n\n         // statement node \'register objects to match\'\n         match.registerObject(\"boardNode\", boardNode);\n         match.registerObject(\"rowNode\", rowNode);\n         match.registerObject(\"columnNode\", columnNode);\n\n         return true;\n\n      }\n      else\n      {\n         return false;\n\n      }'"
	 * @generated
	 */
	boolean isAppropriate_FWD(Match match, Node boardNode, Node rowNode,
			Node columnNode);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;Variable&lt;Number> literal0 = CspFactory.eINSTANCE.createVariable(&quot;literal0&quot;, true, csp);&#xD;&#xA;literal0.setValue(1);&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_leftNeighbor_col = CspFactory.eINSTANCE.createVariable(&quot;leftNeighbor.col&quot;, true, csp);&#xD;&#xA;var_leftNeighbor_col.setValue(leftNeighbor.getCol());&#xD;&#xA;Variable&lt;Number> var_columnNode_index = CspFactory.eINSTANCE.createVariable(&quot;columnNode.index&quot;, true, csp);&#xD;&#xA;var_columnNode_index.setValue(columnNode.getIndex());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;Number> var_floor_col = CspFactory.eINSTANCE.createVariable(&quot;floor.col&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Sub sub = new Sub();Eq&lt;Number> eq = new Eq&lt;Number>();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(sub);&#xD;&#xA;csp.getConstraints().add(eq);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;sub.setRuleName(&quot;&quot;);&#xD;&#xA;sub.solve(var_floor_col,literal0,var_leftNeighbor_col);&#xD;&#xA;eq.setRuleName(&quot;&quot;);&#xD;&#xA;eq.solve(var_floor_col,var_columnNode_index);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardNode&quot;,boardNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;rowNode&quot;,rowNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;columnNode&quot;,columnNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToBoard&quot;,nodeToBoard);&#xD;&#xA;isApplicableMatch.registerObject(&quot;board&quot;,board);&#xD;&#xA;isApplicableMatch.registerObject(&quot;leftNeighbor&quot;,leftNeighbor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;TopRowNodeToFloorRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1 //@ownedActivityNode.5/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;columnNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      EClass eClass = null;\n      Iterator fujaba__IterEClassToPerformOperation = null;\n      EOperation performOperation = null;\n      IsApplicableRuleResult ruleresult = null;\n      Node boardNode = null;\n      Node columnNode = null;\n      Node rowNode = null;\n      IsApplicableMatch isApplicableMatch = null;\n      Iterator fujaba__IterBoardToLeftNeighbor = null;\n      Floor leftNeighbor = null;\n      Board board = null;\n      Iterator fujaba__IterBoardNodeToNodeToBoard = null;\n      NodeToBoard nodeToBoard = null;\n\n      // story node \'prepare return value\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (this.eClass());\n\n         // ensure correct type and really bound of object eClass\n         JavaSDM.ensure ( _TmpObject instanceof EClass );\n         eClass = (EClass) _TmpObject;\n         // iterate to-many link eOperations from eClass to performOperation\n         fujaba__Success = false;\n\n         fujaba__IterEClassToPerformOperation = eClass.getEOperations().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterEClassToPerformOperation.hasNext () )\n         {\n            try\n            {\n               performOperation = (EOperation) fujaba__IterEClassToPerformOperation.next ();\n\n               // check object performOperation is really bound\n               JavaSDM.ensure ( performOperation != null );\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (performOperation.getName (), \"perform_FWD\") == 0 );\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createIsApplicableRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (false);\n         // assign attribute ruleresult\n         ruleresult.setRule (\"TopRowNodeToFloorRule\");\n\n         // create link\n         ruleresult.setPerformOperation( performOperation);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'core match\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (match.getObject(\"boardNode\"));\n\n         // ensure correct type and really bound of object boardNode\n         JavaSDM.ensure ( _TmpObject instanceof Node );\n         boardNode = (Node) _TmpObject;\n         _TmpObject = (match.getObject(\"columnNode\"));\n\n         // ensure correct type and really bound of object columnNode\n         JavaSDM.ensure ( _TmpObject instanceof Node );\n         columnNode = (Node) _TmpObject;\n         _TmpObject = (match.getObject(\"rowNode\"));\n\n         // ensure correct type and really bound of object rowNode\n         JavaSDM.ensure ( _TmpObject instanceof Node );\n         rowNode = (Node) _TmpObject;\n         // check object match is really bound\n         JavaSDM.ensure ( match != null );\n         // check isomorphic binding between objects columnNode and boardNode \n         JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n         // check isomorphic binding between objects rowNode and boardNode \n         JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n         // check isomorphic binding between objects rowNode and columnNode \n         JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n         // attribute condition\n         JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (columnNode.getName (), \"COLUMN\") == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'find context\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object boardNode is really bound\n         JavaSDM.ensure ( boardNode != null );\n         // check object columnNode is really bound\n         JavaSDM.ensure ( columnNode != null );\n         // check object rowNode is really bound\n         JavaSDM.ensure ( rowNode != null );\n         // check isomorphic binding between objects columnNode and boardNode \n         JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n         // check isomorphic binding between objects rowNode and boardNode \n         JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n         // check isomorphic binding between objects rowNode and columnNode \n         JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n         // check link children from rowNode to boardNode\n         JavaSDM.ensure (boardNode.equals (rowNode.getParentNode ()\n         ));\n\n         // check link children from columnNode to rowNode\n         JavaSDM.ensure (rowNode.equals (columnNode.getParentNode ()\n         ));\n\n         // iterate to-many link source from boardNode to nodeToBoard\n         fujaba__Success = false;\n\n         fujaba__IterBoardNodeToNodeToBoard = new ArrayList(org.moflon.core.utilities.eMoflonEMFUtil.getOppositeReference(boardNode,NodeToBoard.class,\"source\")).iterator ();\n\n         while ( fujaba__IterBoardNodeToNodeToBoard.hasNext () )\n         {\n            try\n            {\n               nodeToBoard = (NodeToBoard) fujaba__IterBoardNodeToNodeToBoard.next ();\n\n               // check object nodeToBoard is really bound\n               JavaSDM.ensure ( nodeToBoard != null );\n               // bind object\n               board = nodeToBoard.getTarget ();\n\n               // check object board is really bound\n               JavaSDM.ensure ( board != null );\n\n               // iterate to-many link floors from board to leftNeighbor\n               fujaba__Success = false;\n\n               fujaba__IterBoardToLeftNeighbor = new ArrayList(board.getFloors()).iterator ();\n\n               while ( fujaba__IterBoardToLeftNeighbor.hasNext () )\n               {\n                  try\n                  {\n                     leftNeighbor = (Floor) fujaba__IterBoardToLeftNeighbor.next ();\n\n                     // check object leftNeighbor is really bound\n                     JavaSDM.ensure ( leftNeighbor != null );\n                     // attribute condition\n                     JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( JavaSDM.stringCompare (columnNode.getName (), \"COLUMN\") == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n                     // create object isApplicableMatch\n                     isApplicableMatch = TGGRuntimeFactory.eINSTANCE.createIsApplicableMatch();\n\n                     // statement node \'solve CSP\'\n                     // Create CSP\n                     CSP csp = CspFactory.eINSTANCE.createCSP();\n                     isApplicableMatch.getAttributeInfo().add(csp);\n\n                     // Create literals\n                     Variable<Number> literal0 = CspFactory.eINSTANCE.createVariable(\"literal0\", true, csp);\n                     literal0.setValue(1);\n\n                     // Create attribute variables\n                     Variable<Number> var_leftNeighbor_col = CspFactory.eINSTANCE.createVariable(\"leftNeighbor.col\", true, csp);\n                     var_leftNeighbor_col.setValue(leftNeighbor.getCol());\n                     Variable<Number> var_columnNode_index = CspFactory.eINSTANCE.createVariable(\"columnNode.index\", true, csp);\n                     var_columnNode_index.setValue(columnNode.getIndex());\n\n                     // Create explicit parameters\n\n                     // Create unbound variables\n                     Variable<Number> var_floor_col = CspFactory.eINSTANCE.createVariable(\"floor.col\", csp);\n\n                     // Create constraints\n                     Sub sub = new Sub();Eq<Number> eq = new Eq<Number>();\n\n                     csp.getConstraints().add(sub);\n                     csp.getConstraints().add(eq);\n\n                     // Solve CSP\n                     sub.setRuleName(\"\");\n                     sub.solve(var_floor_col,literal0,var_leftNeighbor_col);\n                     eq.setRuleName(\"\");\n                     eq.solve(var_floor_col,var_columnNode_index);\n\n                     // Snapshot pattern match on which CSP is solved\n                     isApplicableMatch.registerObject(\"boardNode\",boardNode);\n                     isApplicableMatch.registerObject(\"rowNode\",rowNode);\n                     isApplicableMatch.registerObject(\"columnNode\",columnNode);\n                     isApplicableMatch.registerObject(\"nodeToBoard\",nodeToBoard);\n                     isApplicableMatch.registerObject(\"board\",board);\n                     isApplicableMatch.registerObject(\"leftNeighbor\",leftNeighbor);\n\n                     // statement node \'check CSP\'\n                     fujaba__Success = csp.check();\n                     if (fujaba__Success)\n                     {\n                        // story node \'add match to rule result\'\n                        try \n                        {\n                           fujaba__Success = false; \n\n                           // check object isApplicableMatch is really bound\n                           JavaSDM.ensure ( isApplicableMatch != null );\n                           // check object ruleresult is really bound\n                           JavaSDM.ensure ( ruleresult != null );\n                           // assign attribute ruleresult\n                           ruleresult.setSuccess (true);\n\n                           // create link\n                           ruleresult.getIsApplicableMatch().add(isApplicableMatch);\n\n                           fujaba__Success = true;\n                        }\n                        catch ( JavaSDMException fujaba__InternalException )\n                        {\n                           fujaba__Success = false;\n                        }\n\n\n                     }\n                     else\n                     {\n\n                     }\n\n                     fujaba__Success = true;\n                  }\n                  catch ( JavaSDMException fujaba__InternalException )\n                  {\n                     fujaba__Success = false;\n                  }\n               }\n               JavaSDM.ensure (fujaba__Success);\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      return ruleresult;'"
	 * @generated
	 */
	IsApplicableRuleResult isApplicable_FWD(Match match);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.0\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"perform postprocessing\" outgoing=\"//@ownedActivityEdge.0\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// No post processing method found\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"bookkeeping for edges\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.4\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0 //@ownedActivityNode.2/@storyPattern/@linkVariable.3 //@ownedActivityNode.2/@storyPattern/@linkVariable.6 //@ownedActivityNode.2/@storyPattern/@linkVariable.9 //@ownedActivityNode.2/@storyPattern/@linkVariable.12\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.2 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.7\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.8 //@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EObject\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"rowNode__children__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.1 //@ownedActivityNode.2/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;children&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__source__columnNode\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.4 //@ownedActivityNode.2/@storyPattern/@linkVariable.5\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;source&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor__target__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.6\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.7 //@ownedActivityNode.2/@storyPattern/@linkVariable.8\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;target&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.9\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.11 //@ownedActivityNode.2/@storyPattern/@linkVariable.10\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__left__leftNeighbor\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.12\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.14 //@ownedActivityNode.2/@storyPattern/@linkVariable.13\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;left&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.9\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.10\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.11\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.6\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.12\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedEdges\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.13\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"perform transformation\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;boardNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;rowNode&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"((Number)csp.getAttributeVariable(&quot;columnNode&quot;,&quot;index&quot;).getValue()).intValue()\"/>\r\n        </attributeAssignment>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;nodeToBoard&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToFloor\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;leftNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"csp\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingSemantics=\"OPTIONAL\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGLanguage#//csp/CSP\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"isApplicableMatch.getObject(&quot;this&quot;)\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.7\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable name=\"attributeInfo\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.8\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.10\"/>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" bound=\"true\" value=\"ACED000574000E666C6F6F722E676574436F6C2829\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n        <forward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <simultaneous variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0 //@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <backward variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.1\"/>\r\n        <source/>\r\n        <target variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" constraints=\"//@ownedActivityNode.3/@storyPattern/@csp/@constraints.0\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect translated elements\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingOperator=\"CREATE\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//PerformRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"columnNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"nodeToFloor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToFloor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"createdElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"createdLinkElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"translatedElements\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.0\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.2\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      Board board = null;\n      Node boardNode = null;\n      Floor floor = null;\n      Floor leftNeighbor = null;\n      NodeToBoard nodeToBoard = null;\n      Node rowNode = null;\n      Iterator fujaba__IterIsApplicableMatchToCsp = null;\n      CSP csp = null;\n      Node columnNode = null;\n      NodeToFloor nodeToFloor = null;\n      PerformRuleResult ruleresult = null;\n      Edge nodeToFloor__source__columnNode = null;\n      Edge floor__left__leftNeighbor = null;\n      Edge nodeToFloor__target__floor = null;\n      Edge board__floors__floor = null;\n      Edge rowNode__children__columnNode = null;\n\n      // story node \'perform transformation\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (isApplicableMatch.getObject(\"board\"));\n\n         // ensure correct type and really bound of object board\n         JavaSDM.ensure ( _TmpObject instanceof Board );\n         board = (Board) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"boardNode\"));\n\n         // ensure correct type and really bound of object boardNode\n         JavaSDM.ensure ( _TmpObject instanceof Node );\n         boardNode = (Node) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"floor\"));\n\n         // ensure correct type and really bound of object floor\n         JavaSDM.ensure ( _TmpObject instanceof Floor );\n         floor = (Floor) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"leftNeighbor\"));\n\n         // ensure correct type and really bound of object leftNeighbor\n         JavaSDM.ensure ( _TmpObject instanceof Floor );\n         leftNeighbor = (Floor) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"nodeToBoard\"));\n\n         // ensure correct type and really bound of object nodeToBoard\n         JavaSDM.ensure ( _TmpObject instanceof NodeToBoard );\n         nodeToBoard = (NodeToBoard) _TmpObject;\n         _TmpObject = (isApplicableMatch.getObject(\"rowNode\"));\n\n         // ensure correct type and really bound of object rowNode\n         JavaSDM.ensure ( _TmpObject instanceof Node );\n         rowNode = (Node) _TmpObject;\n         // check object isApplicableMatch is really bound\n         JavaSDM.ensure ( isApplicableMatch != null );\n         // check isomorphic binding between objects rowNode and boardNode \n         JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n         // check isomorphic binding between objects leftNeighbor and floor \n         JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n         // iterate to-many link attributeInfo from isApplicableMatch to csp\n         fujaba__Success = false;\n\n         fujaba__IterIsApplicableMatchToCsp = isApplicableMatch.getAttributeInfo().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterIsApplicableMatchToCsp.hasNext () )\n         {\n            try\n            {\n               _TmpObject =  fujaba__IterIsApplicableMatchToCsp.next ();\n\n               // ensure correct type and really bound of object csp\n               JavaSDM.ensure ( _TmpObject instanceof CSP );\n               csp = (CSP) _TmpObject;\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         if (!fujaba__Success)\n         {\n            fujaba__Success = true;\n            csp = null;\n         }\n         // attribute condition\n         JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( floor.getRow () == 0 );\n\n         // create object columnNode\n         columnNode = MocaTreeFactory.eINSTANCE.createNode();\n\n         // create object nodeToFloor\n         nodeToFloor = SokobanCodeAdapterFactory.eINSTANCE.createNodeToFloor();\n\n         // assign attribute columnNode\n         columnNode.setName (\"COLUMN\");\n         // assign attribute columnNode\n         columnNode.setIndex (((Number)csp.getAttributeVariable(\"columnNode\",\"index\").getValue()).intValue());\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(nodeToFloor,floor,\"target\");\n\n         // create link\n         columnNode.setParentNode( rowNode);\n\n\n         // create link\n         nodeToFloor.setSource( columnNode);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'collect translated elements\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object columnNode is really bound\n         JavaSDM.ensure ( columnNode != null );\n         // check object floor is really bound\n         JavaSDM.ensure ( floor != null );\n         // check object nodeToFloor is really bound\n         JavaSDM.ensure ( nodeToFloor != null );\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createPerformRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (true);\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,floor,\"translatedElements\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,columnNode,\"createdElements\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,nodeToFloor,\"createdLinkElements\");\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'bookkeeping for edges\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object board is really bound\n         JavaSDM.ensure ( board != null );\n         // check object boardNode is really bound\n         JavaSDM.ensure ( boardNode != null );\n         // check object columnNode is really bound\n         JavaSDM.ensure ( columnNode != null );\n         // check object floor is really bound\n         JavaSDM.ensure ( floor != null );\n         // check object leftNeighbor is really bound\n         JavaSDM.ensure ( leftNeighbor != null );\n         // check object nodeToBoard is really bound\n         JavaSDM.ensure ( nodeToBoard != null );\n         // check object nodeToFloor is really bound\n         JavaSDM.ensure ( nodeToFloor != null );\n         // check object rowNode is really bound\n         JavaSDM.ensure ( rowNode != null );\n         // check object ruleresult is really bound\n         JavaSDM.ensure ( ruleresult != null );\n         // check isomorphic binding between objects boardNode and board \n         JavaSDM.ensure ( !boardNode.equals (board) );\n\n         // check isomorphic binding between objects columnNode and board \n         JavaSDM.ensure ( !columnNode.equals (board) );\n\n         // check isomorphic binding between objects floor and board \n         JavaSDM.ensure ( !floor.equals (board) );\n\n         // check isomorphic binding between objects leftNeighbor and board \n         JavaSDM.ensure ( !leftNeighbor.equals (board) );\n\n         // check isomorphic binding between objects nodeToBoard and board \n         JavaSDM.ensure ( !nodeToBoard.equals (board) );\n\n         // check isomorphic binding between objects nodeToFloor and board \n         JavaSDM.ensure ( !nodeToFloor.equals (board) );\n\n         // check isomorphic binding between objects rowNode and board \n         JavaSDM.ensure ( !rowNode.equals (board) );\n\n         // check isomorphic binding between objects columnNode and boardNode \n         JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n         // check isomorphic binding between objects floor and boardNode \n         JavaSDM.ensure ( !floor.equals (boardNode) );\n\n         // check isomorphic binding between objects leftNeighbor and boardNode \n         JavaSDM.ensure ( !leftNeighbor.equals (boardNode) );\n\n         // check isomorphic binding between objects nodeToBoard and boardNode \n         JavaSDM.ensure ( !nodeToBoard.equals (boardNode) );\n\n         // check isomorphic binding between objects nodeToFloor and boardNode \n         JavaSDM.ensure ( !nodeToFloor.equals (boardNode) );\n\n         // check isomorphic binding between objects rowNode and boardNode \n         JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n         // check isomorphic binding between objects floor and columnNode \n         JavaSDM.ensure ( !floor.equals (columnNode) );\n\n         // check isomorphic binding between objects leftNeighbor and columnNode \n         JavaSDM.ensure ( !leftNeighbor.equals (columnNode) );\n\n         // check isomorphic binding between objects nodeToBoard and columnNode \n         JavaSDM.ensure ( !nodeToBoard.equals (columnNode) );\n\n         // check isomorphic binding between objects nodeToFloor and columnNode \n         JavaSDM.ensure ( !nodeToFloor.equals (columnNode) );\n\n         // check isomorphic binding between objects rowNode and columnNode \n         JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n         // check isomorphic binding between objects leftNeighbor and floor \n         JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n         // check isomorphic binding between objects nodeToBoard and floor \n         JavaSDM.ensure ( !nodeToBoard.equals (floor) );\n\n         // check isomorphic binding between objects nodeToFloor and floor \n         JavaSDM.ensure ( !nodeToFloor.equals (floor) );\n\n         // check isomorphic binding between objects rowNode and floor \n         JavaSDM.ensure ( !rowNode.equals (floor) );\n\n         // check isomorphic binding between objects nodeToBoard and leftNeighbor \n         JavaSDM.ensure ( !nodeToBoard.equals (leftNeighbor) );\n\n         // check isomorphic binding between objects nodeToFloor and leftNeighbor \n         JavaSDM.ensure ( !nodeToFloor.equals (leftNeighbor) );\n\n         // check isomorphic binding between objects rowNode and leftNeighbor \n         JavaSDM.ensure ( !rowNode.equals (leftNeighbor) );\n\n         // check isomorphic binding between objects nodeToFloor and nodeToBoard \n         JavaSDM.ensure ( !nodeToFloor.equals (nodeToBoard) );\n\n         // check isomorphic binding between objects rowNode and nodeToBoard \n         JavaSDM.ensure ( !rowNode.equals (nodeToBoard) );\n\n         // check isomorphic binding between objects rowNode and nodeToFloor \n         JavaSDM.ensure ( !rowNode.equals (nodeToFloor) );\n\n         // create object nodeToFloor__source__columnNode\n         nodeToFloor__source__columnNode = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // create object floor__left__leftNeighbor\n         floor__left__leftNeighbor = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // create object nodeToFloor__target__floor\n         nodeToFloor__target__floor = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // create object board__floors__floor\n         board__floors__floor = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // create object rowNode__children__columnNode\n         rowNode__children__columnNode = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n         // assign attribute rowNode__children__columnNode\n         rowNode__children__columnNode.setName (\"children\");\n         // assign attribute nodeToFloor__source__columnNode\n         nodeToFloor__source__columnNode.setName (\"source\");\n         // assign attribute nodeToFloor__target__floor\n         nodeToFloor__target__floor.setName (\"target\");\n         // assign attribute board__floors__floor\n         board__floors__floor.setName (\"floors\");\n         // assign attribute floor__left__leftNeighbor\n         floor__left__leftNeighbor.setName (\"left\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,nodeToFloor__source__columnNode,\"createdEdges\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,floor__left__leftNeighbor,\"translatedEdges\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,nodeToFloor__target__floor,\"createdEdges\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,board__floors__floor,\"translatedEdges\");\n\n         // create link\n         org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(ruleresult,rowNode__children__columnNode,\"createdEdges\");\n\n         // create link\n         rowNode__children__columnNode.setSrc( rowNode);\n\n\n         // create link\n         nodeToFloor__source__columnNode.setTrg( columnNode);\n\n\n         // create link\n         rowNode__children__columnNode.setTrg( columnNode);\n\n\n         // create link\n         nodeToFloor__source__columnNode.setSrc( nodeToFloor);\n\n\n         // create link\n         nodeToFloor__target__floor.setSrc( nodeToFloor);\n\n\n         // create link\n         board__floors__floor.setSrc( board);\n\n\n         // create link\n         floor__left__leftNeighbor.setTrg( leftNeighbor);\n\n\n         // create link\n         board__floors__floor.setTrg( floor);\n\n\n         // create link\n         nodeToFloor__target__floor.setTrg( floor);\n\n\n         // create link\n         floor__left__leftNeighbor.setSrc( floor);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // statement node \'perform postprocessing\'\n      // No post processing method found\n      return ruleresult;'"
	 * @generated
	 */
	PerformRuleResult perform_BWD(IsApplicableMatch isApplicableMatch);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect elements to be translated\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.1 //@ownedActivityNode.0/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.0 //@ownedActivityNode.0/@storyPattern/@linkVariable.3 //@ownedActivityNode.0/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__floor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2 //@ownedActivityNode.0/@storyPattern/@linkVariable.3\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"floor__left__leftNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.5 //@ownedActivityNode.0/@storyPattern/@linkVariable.6\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;left&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.0/@storyPattern/@linkVariable.6\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"toBeTranslatedElements\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"toBeTranslatedEdges\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.0/@storyPattern/@objectVariable.4\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Solve CSP\" outgoing=\"//@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.3\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;Variable&lt;Number> literal0 = CspFactory.eINSTANCE.createVariable(&quot;literal0&quot;, true, csp);&#xD;&#xA;literal0.setValue(1);&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_floor_col = CspFactory.eINSTANCE.createVariable(&quot;floor.col&quot;, true, csp);&#xD;&#xA;var_floor_col.setValue(floor.getCol());&#xD;&#xA;Variable&lt;Number> var_leftNeighbor_col = CspFactory.eINSTANCE.createVariable(&quot;leftNeighbor.col&quot;, true, csp);&#xD;&#xA;var_leftNeighbor_col.setValue(leftNeighbor.getCol());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Sub sub = new Sub();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(sub);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;sub.setRuleName(&quot;&quot;);&#xD;&#xA;sub.solve(var_floor_col,literal0,var_leftNeighbor_col);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.3\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"Check CSP\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.1\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"register objects to match\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.2\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.registerObject(&quot;board&quot;, board);&#xA;match.registerObject(&quot;leftNeighbor&quot;, leftNeighbor);&#xA;match.registerObject(&quot;floor&quot;, floor);&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"collect context elements\" outgoing=\"//@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.3\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"board__floors__leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Edge\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//Edge/name\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;floors&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextNodes\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"trg\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"contextEdges\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"src\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.6\">\r\n    <returnValue xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.0\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.7\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Edge floor__left__leftNeighbor = null;\n      Edge board__floors__floor = null;\n      Edge board__floors__leftNeighbor = null;\n\n      // statement node \'Solve CSP\'\n      // Create CSP\n      CSP csp = CspFactory.eINSTANCE.createCSP();\n\n      // Create literals\n      Variable<Number> literal0 = CspFactory.eINSTANCE.createVariable(\"literal0\", true, csp);\n      literal0.setValue(1);\n\n      // Create attribute variables\n      Variable<Number> var_floor_col = CspFactory.eINSTANCE.createVariable(\"floor.col\", true, csp);\n      var_floor_col.setValue(floor.getCol());\n      Variable<Number> var_leftNeighbor_col = CspFactory.eINSTANCE.createVariable(\"leftNeighbor.col\", true, csp);\n      var_leftNeighbor_col.setValue(leftNeighbor.getCol());\n\n      // Create explicit parameters\n\n      // Create unbound variables\n\n      // Create constraints\n      Sub sub = new Sub();\n\n      csp.getConstraints().add(sub);\n\n      // Solve CSP\n      sub.setRuleName(\"\");\n      sub.solve(var_floor_col,literal0,var_leftNeighbor_col);\n\n      // statement node \'Check CSP\'\n      fujaba__Success = csp.check();\n      if (fujaba__Success)\n      {\n         // story node \'collect elements to be translated\'\n         try \n         {\n            fujaba__Success = false; \n\n            // check object board is really bound\n            JavaSDM.ensure ( board != null );\n            // check object floor is really bound\n            JavaSDM.ensure ( floor != null );\n            // check object leftNeighbor is really bound\n            JavaSDM.ensure ( leftNeighbor != null );\n            // check object match is really bound\n            JavaSDM.ensure ( match != null );\n            // check isomorphic binding between objects leftNeighbor and floor \n            JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n            // create object floor__left__leftNeighbor\n            floor__left__leftNeighbor = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n            // create object board__floors__floor\n            board__floors__floor = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n            // assign attribute board__floors__floor\n            board__floors__floor.setName (\"floors\");\n            // assign attribute floor__left__leftNeighbor\n            floor__left__leftNeighbor.setName (\"left\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,floor__left__leftNeighbor,\"toBeTranslatedEdges\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,floor,\"toBeTranslatedElements\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,board__floors__floor,\"toBeTranslatedEdges\");\n\n            // create link\n            floor__left__leftNeighbor.setSrc( floor);\n\n\n            // create link\n            board__floors__floor.setTrg( floor);\n\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(board__floors__floor,board,\"src\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(floor__left__leftNeighbor,leftNeighbor,\"trg\");\n            fujaba__Success = true;\n         }\n         catch ( JavaSDMException fujaba__InternalException )\n         {\n            fujaba__Success = false;\n         }\n\n         // story node \'collect context elements\'\n         try \n         {\n            fujaba__Success = false; \n\n            // check object board is really bound\n            JavaSDM.ensure ( board != null );\n            // check object leftNeighbor is really bound\n            JavaSDM.ensure ( leftNeighbor != null );\n            // check object match is really bound\n            JavaSDM.ensure ( match != null );\n            // create object board__floors__leftNeighbor\n            board__floors__leftNeighbor = TGGRuntimeFactory.eINSTANCE.createEdge();\n\n            // assign attribute board__floors__leftNeighbor\n            board__floors__leftNeighbor.setName (\"floors\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,board,\"contextNodes\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,leftNeighbor,\"contextNodes\");\n\n            // create link\n            org.moflon.core.utilities.eMoflonEMFUtil.addOppositeReference(match,board__floors__leftNeighbor,\"contextEdges\");\n\n            // create link\n            board__floors__leftNeighbor.setSrc( board);\n\n\n            // create link\n            board__floors__leftNeighbor.setTrg( leftNeighbor);\n\n            fujaba__Success = true;\n         }\n         catch ( JavaSDMException fujaba__InternalException )\n         {\n            fujaba__Success = false;\n         }\n\n         // statement node \'register objects to match\'\n         match.registerObject(\"board\", board);\n         match.registerObject(\"leftNeighbor\", leftNeighbor);\n         match.registerObject(\"floor\", floor);\n\n         return true;\n\n      }\n      else\n      {\n         return false;\n\n      }'"
	 * @generated
	 */
	boolean isAppropriate_BWD(Match match, Board board, Floor leftNeighbor,
			Floor floor);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"solve CSP\" outgoing=\"//@ownedActivityEdge.5\" incoming=\"//@ownedActivityEdge.7\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"// Create CSP&#xD;&#xA;CSP csp = CspFactory.eINSTANCE.createCSP();&#xD;&#xA;isApplicableMatch.getAttributeInfo().add(csp);&#xD;&#xA;&#xD;&#xA;// Create literals&#xD;&#xA;&#xD;&#xA;// Create attribute variables&#xD;&#xA;Variable&lt;Number> var_floor_col = CspFactory.eINSTANCE.createVariable(&quot;floor.col&quot;, true, csp);&#xD;&#xA;var_floor_col.setValue(floor.getCol());&#xD;&#xA;&#xD;&#xA;// Create explicit parameters&#xD;&#xA;&#xD;&#xA;// Create unbound variables&#xD;&#xA;Variable&lt;Number> var_columnNode_index = CspFactory.eINSTANCE.createVariable(&quot;columnNode.index&quot;, csp);&#xD;&#xA;&#xD;&#xA;// Create constraints&#xD;&#xA;Eq&lt;Number> eq = new Eq&lt;Number>();&#xD;&#xA;&#xD;&#xA;csp.getConstraints().add(eq);&#xD;&#xA;&#xD;&#xA;// Solve CSP&#xD;&#xA;eq.setRuleName(&quot;&quot;);&#xD;&#xA;eq.solve(var_floor_col,var_columnNode_index);&#xD;&#xA;&#xD;&#xA;// Snapshot pattern match on which CSP is solved&#xD;&#xA;isApplicableMatch.registerObject(&quot;boardNode&quot;,boardNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;rowNode&quot;,rowNode);&#xD;&#xA;isApplicableMatch.registerObject(&quot;nodeToBoard&quot;,nodeToBoard);&#xD;&#xA;isApplicableMatch.registerObject(&quot;board&quot;,board);&#xD;&#xA;isApplicableMatch.registerObject(&quot;leftNeighbor&quot;,leftNeighbor);&#xD;&#xA;isApplicableMatch.registerObject(&quot;floor&quot;,floor);&#xD;&#xA;\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.0\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.1\">\r\n    <storyPattern>\r\n      <objectVariable name=\"isApplicableMatch\" incomingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.2/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"isApplicableMatch\" target=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.2/@storyPattern/@objectVariable.1\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"check CSP\" outgoing=\"//@ownedActivityEdge.1 //@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.5\">\r\n    <statementExpression xsi:type=\"expressions:LiteralExpression\" value=\"csp.check();\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.3\" incoming=\"//@ownedActivityEdge.0\">\r\n    <storyPattern>\r\n      <objectVariable name=\"performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;perform_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/rule\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;TopRowNodeToFloorRule&quot;\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"find context\" outgoing=\"//@ownedActivityEdge.2 //@ownedActivityEdge.7\" incoming=\"//@ownedActivityEdge.6 //@ownedActivityEdge.4 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"nodeToBoard\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.1 //@ownedActivityNode.5/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//NodeToBoard\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.2\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.4\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.3 //@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.4\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.5\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"isApplicableMatch\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsApplicableMatch\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"source\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"target\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.3\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.4\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.5\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.1 //@ownedActivityNode.5/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.5/@storyPattern/@csp/@variables.0 //@ownedActivityNode.5/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"core match\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;board&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;leftNeighbor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"match.getObject(&quot;floor&quot;)\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.2\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.1\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.7\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.5\" guard=\"FAILURE\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.0\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.5\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      EClass eClass = null;\n      Iterator fujaba__IterEClassToPerformOperation = null;\n      EOperation performOperation = null;\n      IsApplicableRuleResult ruleresult = null;\n      Board board = null;\n      Floor floor = null;\n      Floor leftNeighbor = null;\n      IsApplicableMatch isApplicableMatch = null;\n      Iterator fujaba__IterBoardNodeToRowNode = null;\n      Node rowNode = null;\n      Node boardNode = null;\n      Iterator fujaba__IterBoardToNodeToBoard = null;\n      NodeToBoard nodeToBoard = null;\n\n      // story node \'prepare return value\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (this.eClass());\n\n         // ensure correct type and really bound of object eClass\n         JavaSDM.ensure ( _TmpObject instanceof EClass );\n         eClass = (EClass) _TmpObject;\n         // iterate to-many link eOperations from eClass to performOperation\n         fujaba__Success = false;\n\n         fujaba__IterEClassToPerformOperation = eClass.getEOperations().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterEClassToPerformOperation.hasNext () )\n         {\n            try\n            {\n               performOperation = (EOperation) fujaba__IterEClassToPerformOperation.next ();\n\n               // check object performOperation is really bound\n               JavaSDM.ensure ( performOperation != null );\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (performOperation.getName (), \"perform_BWD\") == 0 );\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createIsApplicableRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (false);\n         // assign attribute ruleresult\n         ruleresult.setRule (\"TopRowNodeToFloorRule\");\n\n         // create link\n         ruleresult.setPerformOperation( performOperation);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'core match\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (match.getObject(\"board\"));\n\n         // ensure correct type and really bound of object board\n         JavaSDM.ensure ( _TmpObject instanceof Board );\n         board = (Board) _TmpObject;\n         _TmpObject = (match.getObject(\"floor\"));\n\n         // ensure correct type and really bound of object floor\n         JavaSDM.ensure ( _TmpObject instanceof Floor );\n         floor = (Floor) _TmpObject;\n         _TmpObject = (match.getObject(\"leftNeighbor\"));\n\n         // ensure correct type and really bound of object leftNeighbor\n         JavaSDM.ensure ( _TmpObject instanceof Floor );\n         leftNeighbor = (Floor) _TmpObject;\n         // check object match is really bound\n         JavaSDM.ensure ( match != null );\n         // check isomorphic binding between objects leftNeighbor and floor \n         JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n         // attribute condition\n         JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( floor.getRow () == 0 );\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'find context\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object board is really bound\n         JavaSDM.ensure ( board != null );\n         // check object floor is really bound\n         JavaSDM.ensure ( floor != null );\n         // check object leftNeighbor is really bound\n         JavaSDM.ensure ( leftNeighbor != null );\n         // check isomorphic binding between objects leftNeighbor and floor \n         JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n         // check link floors from floor to board\n         JavaSDM.ensure (board.equals (floor.getBoard ()\n         ));\n\n         // check link floors from leftNeighbor to board\n         JavaSDM.ensure (board.equals (leftNeighbor.getBoard ()\n         ));\n\n         // check link right from floor to leftNeighbor\n         JavaSDM.ensure (leftNeighbor.equals (floor.getLeft ()\n         ));\n\n         // iterate to-many link target from board to nodeToBoard\n         fujaba__Success = false;\n\n         fujaba__IterBoardToNodeToBoard = new ArrayList(org.moflon.core.utilities.eMoflonEMFUtil.getOppositeReference(board,NodeToBoard.class,\"target\")).iterator ();\n\n         while ( fujaba__IterBoardToNodeToBoard.hasNext () )\n         {\n            try\n            {\n               nodeToBoard = (NodeToBoard) fujaba__IterBoardToNodeToBoard.next ();\n\n               // check object nodeToBoard is really bound\n               JavaSDM.ensure ( nodeToBoard != null );\n               // bind object\n               boardNode = nodeToBoard.getSource ();\n\n               // check object boardNode is really bound\n               JavaSDM.ensure ( boardNode != null );\n\n               // iterate to-many link children from boardNode to rowNode\n               fujaba__Success = false;\n\n               fujaba__IterBoardNodeToRowNode = new ArrayList(boardNode.getChildren(\"ROW\", 0)).iterator ();\n\n               while ( fujaba__IterBoardNodeToRowNode.hasNext () )\n               {\n                  try\n                  {\n                     _TmpObject =  fujaba__IterBoardNodeToRowNode.next ();\n\n                     // ensure correct type and really bound of object rowNode\n                     JavaSDM.ensure ( _TmpObject instanceof Node );\n                     rowNode = (Node) _TmpObject;\n                     // check isomorphic binding between objects rowNode and boardNode \n                     JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n                     // attribute condition\n                     JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( floor.getRow () == 0 );\n\n                     // create object isApplicableMatch\n                     isApplicableMatch = TGGRuntimeFactory.eINSTANCE.createIsApplicableMatch();\n\n                     // statement node \'solve CSP\'\n                     // Create CSP\n                     CSP csp = CspFactory.eINSTANCE.createCSP();\n                     isApplicableMatch.getAttributeInfo().add(csp);\n\n                     // Create literals\n\n                     // Create attribute variables\n                     Variable<Number> var_floor_col = CspFactory.eINSTANCE.createVariable(\"floor.col\", true, csp);\n                     var_floor_col.setValue(floor.getCol());\n\n                     // Create explicit parameters\n\n                     // Create unbound variables\n                     Variable<Number> var_columnNode_index = CspFactory.eINSTANCE.createVariable(\"columnNode.index\", csp);\n\n                     // Create constraints\n                     Eq<Number> eq = new Eq<Number>();\n\n                     csp.getConstraints().add(eq);\n\n                     // Solve CSP\n                     eq.setRuleName(\"\");\n                     eq.solve(var_floor_col,var_columnNode_index);\n\n                     // Snapshot pattern match on which CSP is solved\n                     isApplicableMatch.registerObject(\"boardNode\",boardNode);\n                     isApplicableMatch.registerObject(\"rowNode\",rowNode);\n                     isApplicableMatch.registerObject(\"nodeToBoard\",nodeToBoard);\n                     isApplicableMatch.registerObject(\"board\",board);\n                     isApplicableMatch.registerObject(\"leftNeighbor\",leftNeighbor);\n                     isApplicableMatch.registerObject(\"floor\",floor);\n\n                     // statement node \'check CSP\'\n                     fujaba__Success = csp.check();\n                     if (fujaba__Success)\n                     {\n                        // story node \'add match to rule result\'\n                        try \n                        {\n                           fujaba__Success = false; \n\n                           // check object isApplicableMatch is really bound\n                           JavaSDM.ensure ( isApplicableMatch != null );\n                           // check object ruleresult is really bound\n                           JavaSDM.ensure ( ruleresult != null );\n                           // assign attribute ruleresult\n                           ruleresult.setSuccess (true);\n\n                           // create link\n                           ruleresult.getIsApplicableMatch().add(isApplicableMatch);\n\n                           fujaba__Success = true;\n                        }\n                        catch ( JavaSDMException fujaba__InternalException )\n                        {\n                           fujaba__Success = false;\n                        }\n\n\n                     }\n                     else\n                     {\n\n                     }\n\n                     fujaba__Success = true;\n                  }\n                  catch ( JavaSDMException fujaba__InternalException )\n                  {\n                     fujaba__Success = false;\n                  }\n               }\n               JavaSDM.ensure (fujaba__Success);\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      return ruleresult;'"
	 * @generated
	 */
	IsApplicableRuleResult isApplicable_BWD(Match match);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      EClass __eClass = null;\n      Iterator fujaba__Iter__eClassTo__performOperation = null;\n      EOperation __performOperation = null;\n      IsAppropriateRuleResult ruleresult = null;\n      Match match = null;\n      Iterator fujaba__IterRowNodeToColumnNode = null;\n      Node columnNode = null;\n      Iterator fujaba__IterBoardNodeToRowNode = null;\n      Node rowNode = null;\n      Iterator fujaba__IterRuleresultToMatch = null;\n\n      // story node \'prepare return value\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (this.eClass());\n\n         // ensure correct type and really bound of object __eClass\n         JavaSDM.ensure ( _TmpObject instanceof EClass );\n         __eClass = (EClass) _TmpObject;\n         // iterate to-many link eOperations from __eClass to __performOperation\n         fujaba__Success = false;\n\n         fujaba__Iter__eClassTo__performOperation = __eClass.getEOperations().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__Iter__eClassTo__performOperation.hasNext () )\n         {\n            try\n            {\n               __performOperation = (EOperation) fujaba__Iter__eClassTo__performOperation.next ();\n\n               // check object __performOperation is really bound\n               JavaSDM.ensure ( __performOperation != null );\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (__performOperation.getName (), \"isApplicable_FWD\") == 0 );\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createIsAppropriateRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (false);\n\n         // create link\n         ruleresult.setPerformOperation( __performOperation);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'test core match kernel\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object boardNode is really bound\n         JavaSDM.ensure ( boardNode != null );\n         // iterate to-many link children from boardNode to rowNode\n         fujaba__Success = false;\n\n         fujaba__IterBoardNodeToRowNode = new ArrayList(boardNode.getChildren(\"ROW\", 0)).iterator ();\n\n         while ( fujaba__IterBoardNodeToRowNode.hasNext () )\n         {\n            try\n            {\n               _TmpObject =  fujaba__IterBoardNodeToRowNode.next ();\n\n               // ensure correct type and really bound of object rowNode\n               JavaSDM.ensure ( _TmpObject instanceof Node );\n               rowNode = (Node) _TmpObject;\n               // check isomorphic binding between objects rowNode and boardNode \n               JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n               // iterate to-many link children from rowNode to columnNode\n               fujaba__Success = false;\n\n               fujaba__IterRowNodeToColumnNode = new ArrayList(rowNode.getChildren(\"COLUMN\")).iterator ();\n\n               while ( fujaba__IterRowNodeToColumnNode.hasNext () )\n               {\n                  try\n                  {\n                     _TmpObject =  fujaba__IterRowNodeToColumnNode.next ();\n\n                     // ensure correct type and really bound of object columnNode\n                     JavaSDM.ensure ( _TmpObject instanceof Node );\n                     columnNode = (Node) _TmpObject;\n                     // check isomorphic binding between objects columnNode and boardNode \n                     JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n                     // check isomorphic binding between objects rowNode and columnNode \n                     JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n                     // attribute condition\n                     JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( JavaSDM.stringCompare (columnNode.getName (), \"COLUMN\") == 0 );\n\n                     // attribute condition\n                     JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n                     // story node \'test core match\'\n                     try \n                     {\n                        fujaba__Success = false; \n\n                        // check object boardNode is really bound\n                        JavaSDM.ensure ( boardNode != null );\n                        // check object columnNode is really bound\n                        JavaSDM.ensure ( columnNode != null );\n                        // check object rowNode is really bound\n                        JavaSDM.ensure ( rowNode != null );\n                        // check object ruleresult is really bound\n                        JavaSDM.ensure ( ruleresult != null );\n                        // check isomorphic binding between objects columnNode and boardNode \n                        JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n                        // check isomorphic binding between objects rowNode and boardNode \n                        JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n                        // check isomorphic binding between objects rowNode and columnNode \n                        JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n                        // check link children from rowNode to boardNode\n                        JavaSDM.ensure (boardNode.equals (rowNode.getParentNode ()\n                        ));\n\n                        // check link children from columnNode to rowNode\n                        JavaSDM.ensure (rowNode.equals (columnNode.getParentNode ()\n                        ));\n\n                        // attribute condition\n                        JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n                        // attribute condition\n                        JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n                        // attribute condition\n                        JavaSDM.ensure ( JavaSDM.stringCompare (columnNode.getName (), \"COLUMN\") == 0 );\n\n                        // attribute condition\n                        JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n                        // create object match\n                        match = TGGRuntimeFactory.eINSTANCE.createMatch();\n\n                        // statement node \'bookkeeping with generic isAppropriate method\'\n                        fujaba__Success = this.isAppropriate_FWD(match,boardNode,rowNode,columnNode);\n                        if (fujaba__Success)\n                        {\n                           // story node \'Add match to rule result\'\n                           try \n                           {\n                              fujaba__Success = false; \n\n                              // check object match is really bound\n                              JavaSDM.ensure ( match != null );\n                              // check object ruleresult is really bound\n                              JavaSDM.ensure ( ruleresult != null );\n\n                              // create link\n                              match.setIsAppropriateRuleResult( ruleresult);\n\n                              fujaba__Success = true;\n                           }\n                           catch ( JavaSDMException fujaba__InternalException )\n                           {\n                              fujaba__Success = false;\n                           }\n\n\n                        }\n                        else\n                        {\n\n                        }\n                        fujaba__Success = true;\n                     }\n                     catch ( JavaSDMException fujaba__InternalException )\n                     {\n                        fujaba__Success = false;\n                     }\n\n\n                     fujaba__Success = true;\n                  }\n                  catch ( JavaSDMException fujaba__InternalException )\n                  {\n                     fujaba__Success = false;\n                  }\n               }\n               JavaSDM.ensure (fujaba__Success);\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'set success\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object ruleresult is really bound\n         JavaSDM.ensure ( ruleresult != null );\n         // iterate to-many link matches from ruleresult to match\n         fujaba__Success = false;\n\n         fujaba__IterRuleresultToMatch = ruleresult.getMatches().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterRuleresultToMatch.hasNext () )\n         {\n            try\n            {\n               match = (Match) fujaba__IterRuleresultToMatch.next ();\n\n               // check object match is really bound\n               JavaSDM.ensure ( match != null );\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // assign attribute ruleresult\n         ruleresult.setSuccess (true);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      return ruleresult;'"
	 * @generated
	 */
	IsAppropriateRuleResult isAppropriate_FWD_Node_21(Node boardNode);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      EClass __eClass = null;\n      Iterator fujaba__Iter__eClassTo__performOperation = null;\n      EOperation __performOperation = null;\n      IsAppropriateRuleResult ruleresult = null;\n      Match match = null;\n      Iterator fujaba__IterRowNodeToColumnNode = null;\n      Node columnNode = null;\n      Node boardNode = null;\n      Iterator fujaba__IterRuleresultToMatch = null;\n\n      // story node \'prepare return value\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (this.eClass());\n\n         // ensure correct type and really bound of object __eClass\n         JavaSDM.ensure ( _TmpObject instanceof EClass );\n         __eClass = (EClass) _TmpObject;\n         // iterate to-many link eOperations from __eClass to __performOperation\n         fujaba__Success = false;\n\n         fujaba__Iter__eClassTo__performOperation = __eClass.getEOperations().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__Iter__eClassTo__performOperation.hasNext () )\n         {\n            try\n            {\n               __performOperation = (EOperation) fujaba__Iter__eClassTo__performOperation.next ();\n\n               // check object __performOperation is really bound\n               JavaSDM.ensure ( __performOperation != null );\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (__performOperation.getName (), \"isApplicable_FWD\") == 0 );\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createIsAppropriateRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (false);\n\n         // create link\n         ruleresult.setPerformOperation( __performOperation);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'test core match kernel\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object rowNode is really bound\n         JavaSDM.ensure ( rowNode != null );\n         // bind object\n         boardNode = rowNode.getParentNode ();\n\n         // check object boardNode is really bound\n         JavaSDM.ensure ( boardNode != null );\n\n         // check isomorphic binding between objects rowNode and boardNode \n         JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n         // iterate to-many link children from rowNode to columnNode\n         fujaba__Success = false;\n\n         fujaba__IterRowNodeToColumnNode = new ArrayList(rowNode.getChildren(\"COLUMN\")).iterator ();\n\n         while ( fujaba__IterRowNodeToColumnNode.hasNext () )\n         {\n            try\n            {\n               _TmpObject =  fujaba__IterRowNodeToColumnNode.next ();\n\n               // ensure correct type and really bound of object columnNode\n               JavaSDM.ensure ( _TmpObject instanceof Node );\n               columnNode = (Node) _TmpObject;\n               // check isomorphic binding between objects columnNode and boardNode \n               JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n               // check isomorphic binding between objects rowNode and columnNode \n               JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n               // attribute condition\n               JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (columnNode.getName (), \"COLUMN\") == 0 );\n\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n               // story node \'test core match\'\n               try \n               {\n                  fujaba__Success = false; \n\n                  // check object boardNode is really bound\n                  JavaSDM.ensure ( boardNode != null );\n                  // check object columnNode is really bound\n                  JavaSDM.ensure ( columnNode != null );\n                  // check object rowNode is really bound\n                  JavaSDM.ensure ( rowNode != null );\n                  // check object ruleresult is really bound\n                  JavaSDM.ensure ( ruleresult != null );\n                  // check isomorphic binding between objects columnNode and boardNode \n                  JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n                  // check isomorphic binding between objects rowNode and boardNode \n                  JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n                  // check isomorphic binding between objects rowNode and columnNode \n                  JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n                  // check link children from rowNode to boardNode\n                  JavaSDM.ensure (boardNode.equals (rowNode.getParentNode ()\n                  ));\n\n                  // check link children from columnNode to rowNode\n                  JavaSDM.ensure (rowNode.equals (columnNode.getParentNode ()\n                  ));\n\n                  // attribute condition\n                  JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n                  // attribute condition\n                  JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n                  // attribute condition\n                  JavaSDM.ensure ( JavaSDM.stringCompare (columnNode.getName (), \"COLUMN\") == 0 );\n\n                  // attribute condition\n                  JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n                  // create object match\n                  match = TGGRuntimeFactory.eINSTANCE.createMatch();\n\n                  // statement node \'bookkeeping with generic isAppropriate method\'\n                  fujaba__Success = this.isAppropriate_FWD(match,boardNode,rowNode,columnNode);\n                  if (fujaba__Success)\n                  {\n                     // story node \'Add match to rule result\'\n                     try \n                     {\n                        fujaba__Success = false; \n\n                        // check object match is really bound\n                        JavaSDM.ensure ( match != null );\n                        // check object ruleresult is really bound\n                        JavaSDM.ensure ( ruleresult != null );\n\n                        // create link\n                        match.setIsAppropriateRuleResult( ruleresult);\n\n                        fujaba__Success = true;\n                     }\n                     catch ( JavaSDMException fujaba__InternalException )\n                     {\n                        fujaba__Success = false;\n                     }\n\n\n                  }\n                  else\n                  {\n\n                  }\n                  fujaba__Success = true;\n               }\n               catch ( JavaSDMException fujaba__InternalException )\n               {\n                  fujaba__Success = false;\n               }\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'set success\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object ruleresult is really bound\n         JavaSDM.ensure ( ruleresult != null );\n         // iterate to-many link matches from ruleresult to match\n         fujaba__Success = false;\n\n         fujaba__IterRuleresultToMatch = ruleresult.getMatches().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterRuleresultToMatch.hasNext () )\n         {\n            try\n            {\n               match = (Match) fujaba__IterRuleresultToMatch.next ();\n\n               // check object match is really bound\n               JavaSDM.ensure ( match != null );\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // assign attribute ruleresult\n         ruleresult.setSuccess (true);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      return ruleresult;'"
	 * @generated
	 */
	IsAppropriateRuleResult isAppropriate_FWD_Node_22(Node rowNode);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"boardNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/boardNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"rowNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/rowNode\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"columnNode\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD/columnNode\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_FWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_FWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"boardNode\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;BOARD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.0\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"rowNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/index\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;ROW&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.1\"/>\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"columnNode\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//Node\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;COLUMN&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/plugin/org.moflon.moca.MocaTree/model/MocaTree.ecore#//TreeElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"children\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      EClass __eClass = null;\n      Iterator fujaba__Iter__eClassTo__performOperation = null;\n      EOperation __performOperation = null;\n      IsAppropriateRuleResult ruleresult = null;\n      Match match = null;\n      Node boardNode = null;\n      Node rowNode = null;\n      Iterator fujaba__IterRuleresultToMatch = null;\n\n      // story node \'prepare return value\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (this.eClass());\n\n         // ensure correct type and really bound of object __eClass\n         JavaSDM.ensure ( _TmpObject instanceof EClass );\n         __eClass = (EClass) _TmpObject;\n         // iterate to-many link eOperations from __eClass to __performOperation\n         fujaba__Success = false;\n\n         fujaba__Iter__eClassTo__performOperation = __eClass.getEOperations().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__Iter__eClassTo__performOperation.hasNext () )\n         {\n            try\n            {\n               __performOperation = (EOperation) fujaba__Iter__eClassTo__performOperation.next ();\n\n               // check object __performOperation is really bound\n               JavaSDM.ensure ( __performOperation != null );\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (__performOperation.getName (), \"isApplicable_FWD\") == 0 );\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createIsAppropriateRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (false);\n\n         // create link\n         ruleresult.setPerformOperation( __performOperation);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'test core match kernel\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object columnNode is really bound\n         JavaSDM.ensure ( columnNode != null );\n         // bind object\n         rowNode = columnNode.getParentNode ();\n\n         // check object rowNode is really bound\n         JavaSDM.ensure ( rowNode != null );\n\n         // check isomorphic binding between objects rowNode and columnNode \n         JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n         // bind object\n         boardNode = rowNode.getParentNode ();\n\n         // check object boardNode is really bound\n         JavaSDM.ensure ( boardNode != null );\n\n         // check isomorphic binding between objects columnNode and boardNode \n         JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n         // check isomorphic binding between objects rowNode and boardNode \n         JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n         // attribute condition\n         JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (columnNode.getName (), \"COLUMN\") == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n         // story node \'test core match\'\n         try \n         {\n            fujaba__Success = false; \n\n            // check object boardNode is really bound\n            JavaSDM.ensure ( boardNode != null );\n            // check object columnNode is really bound\n            JavaSDM.ensure ( columnNode != null );\n            // check object rowNode is really bound\n            JavaSDM.ensure ( rowNode != null );\n            // check object ruleresult is really bound\n            JavaSDM.ensure ( ruleresult != null );\n            // check isomorphic binding between objects columnNode and boardNode \n            JavaSDM.ensure ( !columnNode.equals (boardNode) );\n\n            // check isomorphic binding between objects rowNode and boardNode \n            JavaSDM.ensure ( !rowNode.equals (boardNode) );\n\n            // check isomorphic binding between objects rowNode and columnNode \n            JavaSDM.ensure ( !rowNode.equals (columnNode) );\n\n            // check link children from rowNode to boardNode\n            JavaSDM.ensure (boardNode.equals (rowNode.getParentNode ()\n            ));\n\n            // check link children from columnNode to rowNode\n            JavaSDM.ensure (rowNode.equals (columnNode.getParentNode ()\n            ));\n\n            // attribute condition\n            JavaSDM.ensure ( rowNode.getIndex () == 0 );\n\n            // attribute condition\n            JavaSDM.ensure ( JavaSDM.stringCompare (boardNode.getName (), \"BOARD\") == 0 );\n\n            // attribute condition\n            JavaSDM.ensure ( JavaSDM.stringCompare (columnNode.getName (), \"COLUMN\") == 0 );\n\n            // attribute condition\n            JavaSDM.ensure ( JavaSDM.stringCompare (rowNode.getName (), \"ROW\") == 0 );\n\n            // create object match\n            match = TGGRuntimeFactory.eINSTANCE.createMatch();\n\n            // statement node \'bookkeeping with generic isAppropriate method\'\n            fujaba__Success = this.isAppropriate_FWD(match,boardNode,rowNode,columnNode);\n            if (fujaba__Success)\n            {\n               // story node \'Add match to rule result\'\n               try \n               {\n                  fujaba__Success = false; \n\n                  // check object match is really bound\n                  JavaSDM.ensure ( match != null );\n                  // check object ruleresult is really bound\n                  JavaSDM.ensure ( ruleresult != null );\n\n                  // create link\n                  match.setIsAppropriateRuleResult( ruleresult);\n\n                  fujaba__Success = true;\n               }\n               catch ( JavaSDMException fujaba__InternalException )\n               {\n                  fujaba__Success = false;\n               }\n\n\n            }\n            else\n            {\n\n            }\n            fujaba__Success = true;\n         }\n         catch ( JavaSDMException fujaba__InternalException )\n         {\n            fujaba__Success = false;\n         }\n\n\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'set success\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object ruleresult is really bound\n         JavaSDM.ensure ( ruleresult != null );\n         // iterate to-many link matches from ruleresult to match\n         fujaba__Success = false;\n\n         fujaba__IterRuleresultToMatch = ruleresult.getMatches().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterRuleresultToMatch.hasNext () )\n         {\n            try\n            {\n               match = (Match) fujaba__IterRuleresultToMatch.next ();\n\n               // check object match is really bound\n               JavaSDM.ensure ( match != null );\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // assign attribute ruleresult\n         ruleresult.setSuccess (true);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      return ruleresult;'"
	 * @generated
	 */
	IsAppropriateRuleResult isAppropriate_FWD_Node_23(Node columnNode);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      EClass __eClass = null;\n      Iterator fujaba__Iter__eClassTo__performOperation = null;\n      EOperation __performOperation = null;\n      IsAppropriateRuleResult ruleresult = null;\n      Match match = null;\n      Floor leftNeighbor = null;\n      Iterator fujaba__IterBoardToFloor = null;\n      Floor floor = null;\n      Iterator fujaba__IterRuleresultToMatch = null;\n\n      // story node \'prepare return value\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (this.eClass());\n\n         // ensure correct type and really bound of object __eClass\n         JavaSDM.ensure ( _TmpObject instanceof EClass );\n         __eClass = (EClass) _TmpObject;\n         // iterate to-many link eOperations from __eClass to __performOperation\n         fujaba__Success = false;\n\n         fujaba__Iter__eClassTo__performOperation = __eClass.getEOperations().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__Iter__eClassTo__performOperation.hasNext () )\n         {\n            try\n            {\n               __performOperation = (EOperation) fujaba__Iter__eClassTo__performOperation.next ();\n\n               // check object __performOperation is really bound\n               JavaSDM.ensure ( __performOperation != null );\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (__performOperation.getName (), \"isApplicable_BWD\") == 0 );\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createIsAppropriateRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (false);\n\n         // create link\n         ruleresult.setPerformOperation( __performOperation);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'test core match kernel\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object board is really bound\n         JavaSDM.ensure ( board != null );\n         // iterate to-many link floors from board to floor\n         fujaba__Success = false;\n\n         fujaba__IterBoardToFloor = new ArrayList(board.getFloors()).iterator ();\n\n         while ( fujaba__IterBoardToFloor.hasNext () )\n         {\n            try\n            {\n               floor = (Floor) fujaba__IterBoardToFloor.next ();\n\n               // check object floor is really bound\n               JavaSDM.ensure ( floor != null );\n               // bind object\n               leftNeighbor = floor.getLeft ();\n\n               // check object leftNeighbor is really bound\n               JavaSDM.ensure ( leftNeighbor != null );\n\n               // check isomorphic binding between objects leftNeighbor and floor \n               JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n               // check link floors from leftNeighbor to board\n               JavaSDM.ensure (board.equals (leftNeighbor.getBoard ()\n               ));\n\n               // attribute condition\n               JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n               // attribute condition\n               JavaSDM.ensure ( floor.getRow () == 0 );\n\n               // story node \'test core match\'\n               try \n               {\n                  fujaba__Success = false; \n\n                  // check object board is really bound\n                  JavaSDM.ensure ( board != null );\n                  // check object floor is really bound\n                  JavaSDM.ensure ( floor != null );\n                  // check object leftNeighbor is really bound\n                  JavaSDM.ensure ( leftNeighbor != null );\n                  // check object ruleresult is really bound\n                  JavaSDM.ensure ( ruleresult != null );\n                  // check isomorphic binding between objects leftNeighbor and floor \n                  JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n                  // check link floors from floor to board\n                  JavaSDM.ensure (board.equals (floor.getBoard ()\n                  ));\n\n                  // check link floors from leftNeighbor to board\n                  JavaSDM.ensure (board.equals (leftNeighbor.getBoard ()\n                  ));\n\n                  // check link right from floor to leftNeighbor\n                  JavaSDM.ensure (leftNeighbor.equals (floor.getLeft ()\n                  ));\n\n                  // attribute condition\n                  JavaSDM.ensure ( floor.getRow () == 0 );\n\n                  // attribute condition\n                  JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n                  // create object match\n                  match = TGGRuntimeFactory.eINSTANCE.createMatch();\n\n                  // statement node \'bookkeeping with generic isAppropriate method\'\n                  fujaba__Success = this.isAppropriate_BWD(match,board,leftNeighbor,floor);\n                  if (fujaba__Success)\n                  {\n                     // story node \'Add match to rule result\'\n                     try \n                     {\n                        fujaba__Success = false; \n\n                        // check object match is really bound\n                        JavaSDM.ensure ( match != null );\n                        // check object ruleresult is really bound\n                        JavaSDM.ensure ( ruleresult != null );\n\n                        // create link\n                        match.setIsAppropriateRuleResult( ruleresult);\n\n                        fujaba__Success = true;\n                     }\n                     catch ( JavaSDMException fujaba__InternalException )\n                     {\n                        fujaba__Success = false;\n                     }\n\n\n                  }\n                  else\n                  {\n\n                  }\n                  fujaba__Success = true;\n               }\n               catch ( JavaSDMException fujaba__InternalException )\n               {\n                  fujaba__Success = false;\n               }\n\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'set success\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object ruleresult is really bound\n         JavaSDM.ensure ( ruleresult != null );\n         // iterate to-many link matches from ruleresult to match\n         fujaba__Success = false;\n\n         fujaba__IterRuleresultToMatch = ruleresult.getMatches().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterRuleresultToMatch.hasNext () )\n         {\n            try\n            {\n               match = (Match) fujaba__IterRuleresultToMatch.next ();\n\n               // check object match is really bound\n               JavaSDM.ensure ( match != null );\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // assign attribute ruleresult\n         ruleresult.setSuccess (true);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      return ruleresult;'"
	 * @generated
	 */
	IsAppropriateRuleResult isAppropriate_BWD_Board_3(Board board);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      EClass __eClass = null;\n      Iterator fujaba__Iter__eClassTo__performOperation = null;\n      EOperation __performOperation = null;\n      IsAppropriateRuleResult ruleresult = null;\n      Match match = null;\n      Floor floor = null;\n      Board board = null;\n      Iterator fujaba__IterRuleresultToMatch = null;\n\n      // story node \'prepare return value\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (this.eClass());\n\n         // ensure correct type and really bound of object __eClass\n         JavaSDM.ensure ( _TmpObject instanceof EClass );\n         __eClass = (EClass) _TmpObject;\n         // iterate to-many link eOperations from __eClass to __performOperation\n         fujaba__Success = false;\n\n         fujaba__Iter__eClassTo__performOperation = __eClass.getEOperations().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__Iter__eClassTo__performOperation.hasNext () )\n         {\n            try\n            {\n               __performOperation = (EOperation) fujaba__Iter__eClassTo__performOperation.next ();\n\n               // check object __performOperation is really bound\n               JavaSDM.ensure ( __performOperation != null );\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (__performOperation.getName (), \"isApplicable_BWD\") == 0 );\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createIsAppropriateRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (false);\n\n         // create link\n         ruleresult.setPerformOperation( __performOperation);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'test core match kernel\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object leftNeighbor is really bound\n         JavaSDM.ensure ( leftNeighbor != null );\n         // bind object\n         board = leftNeighbor.getBoard ();\n\n         // check object board is really bound\n         JavaSDM.ensure ( board != null );\n\n         // bind object\n         floor = leftNeighbor.getRight ();\n\n         // check object floor is really bound\n         JavaSDM.ensure ( floor != null );\n\n         // check isomorphic binding between objects leftNeighbor and floor \n         JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n         // check link floors from floor to board\n         JavaSDM.ensure (board.equals (floor.getBoard ()\n         ));\n\n         // attribute condition\n         JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( floor.getRow () == 0 );\n\n         // story node \'test core match\'\n         try \n         {\n            fujaba__Success = false; \n\n            // check object board is really bound\n            JavaSDM.ensure ( board != null );\n            // check object floor is really bound\n            JavaSDM.ensure ( floor != null );\n            // check object leftNeighbor is really bound\n            JavaSDM.ensure ( leftNeighbor != null );\n            // check object ruleresult is really bound\n            JavaSDM.ensure ( ruleresult != null );\n            // check isomorphic binding between objects leftNeighbor and floor \n            JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n            // check link floors from floor to board\n            JavaSDM.ensure (board.equals (floor.getBoard ()\n            ));\n\n            // check link floors from leftNeighbor to board\n            JavaSDM.ensure (board.equals (leftNeighbor.getBoard ()\n            ));\n\n            // check link right from floor to leftNeighbor\n            JavaSDM.ensure (leftNeighbor.equals (floor.getLeft ()\n            ));\n\n            // attribute condition\n            JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n            // attribute condition\n            JavaSDM.ensure ( floor.getRow () == 0 );\n\n            // create object match\n            match = TGGRuntimeFactory.eINSTANCE.createMatch();\n\n            // statement node \'bookkeeping with generic isAppropriate method\'\n            fujaba__Success = this.isAppropriate_BWD(match,board,leftNeighbor,floor);\n            if (fujaba__Success)\n            {\n               // story node \'Add match to rule result\'\n               try \n               {\n                  fujaba__Success = false; \n\n                  // check object match is really bound\n                  JavaSDM.ensure ( match != null );\n                  // check object ruleresult is really bound\n                  JavaSDM.ensure ( ruleresult != null );\n\n                  // create link\n                  match.setIsAppropriateRuleResult( ruleresult);\n\n                  fujaba__Success = true;\n               }\n               catch ( JavaSDMException fujaba__InternalException )\n               {\n                  fujaba__Success = false;\n               }\n\n\n            }\n            else\n            {\n\n            }\n            fujaba__Success = true;\n         }\n         catch ( JavaSDMException fujaba__InternalException )\n         {\n            fujaba__Success = false;\n         }\n\n\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'set success\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object ruleresult is really bound\n         JavaSDM.ensure ( ruleresult != null );\n         // iterate to-many link matches from ruleresult to match\n         fujaba__Success = false;\n\n         fujaba__IterRuleresultToMatch = ruleresult.getMatches().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterRuleresultToMatch.hasNext () )\n         {\n            try\n            {\n               match = (Match) fujaba__IterRuleresultToMatch.next ();\n\n               // check object match is really bound\n               JavaSDM.ensure ( match != null );\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // assign attribute ruleresult\n         ruleresult.setSuccess (true);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      return ruleresult;'"
	 * @generated
	 */
	IsAppropriateRuleResult isAppropriate_BWD_Floor_9(Floor leftNeighbor);

	/**
	 * <!-- begin-user-doc -->
	 * <!-- end-user-doc -->
	 * @model annotation="SDM XMI='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<activities:Activity xmi:version=\"2.0\" xmlns:xmi=\"http://www.omg.org/XMI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:TGGLanguage=\"http://www.moflon.org.TGGLanguage\" xmlns:activities=\"http://www.moflon.org.SDMLanguage.activities\" xmlns:callExpressions=\"http://www.moflon.org.SDMLanguage.calls.callExpressions\" xmlns:csp=\"http://www.moflon.org.TGGLanguage.csp\" xmlns:ecore=\"http://www.eclipse.org/emf/2002/Ecore\" xmlns:expressions=\"http://www.moflon.org.SDMLanguage.expressions\" xmlns:patternExpressions=\"http://www.moflon.org.SDMLanguage.patterns.patternExpressions\">\r\n  <ownedActivityNode xsi:type=\"activities:StartNode\" outgoing=\"//@ownedActivityEdge.5\"/>\r\n  <ownedActivityNode xsi:type=\"activities:StopNode\" incoming=\"//@ownedActivityEdge.4\">\r\n    <returnValue xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\"/>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StatementNode\" name=\"bookkeeping with generic isAppropriate method\" outgoing=\"//@ownedActivityEdge.7 //@ownedActivityEdge.9\" incoming=\"//@ownedActivityEdge.0\">\r\n    <statementExpression xsi:type=\"callExpressions:MethodCallExpression\">\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"match\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/match\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"board\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/board\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"leftNeighbor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/leftNeighbor\"/>\r\n      </ownedParameterBindings>\r\n      <ownedParameterBindings>\r\n        <valueExpression xsi:type=\"expressions:TextualExpression\" expressionText=\"floor\"/>\r\n        <parameter href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD/floor\"/>\r\n      </ownedParameterBindings>\r\n      <callee href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule/isAppropriate_BWD\"/>\r\n      <target xsi:type=\"patternExpressions:ObjectVariableExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.0\"/>\r\n    </statementExpression>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match\" outgoing=\"//@ownedActivityEdge.0 //@ownedActivityEdge.2\" incoming=\"//@ownedActivityEdge.1 //@ownedActivityEdge.9 //@ownedActivityEdge.8\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.0 //@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.3/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.3/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.1 //@ownedActivityNode.3/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.3/@storyPattern/@csp/@variables.0 //@ownedActivityNode.3/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"prepare return value\" outgoing=\"//@ownedActivityEdge.6\" incoming=\"//@ownedActivityEdge.5\">\r\n    <storyPattern>\r\n      <objectVariable name=\"this\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.gen.ecore#//Rules/TopRowNodeToFloorRule\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"__performOperation\" incomingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1 //@ownedActivityNode.4/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EOperation\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"&quot;isApplicable_BWD&quot;\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\" object=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\">\r\n              <attribute href=\"http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.0\" bindingOperator=\"CREATE\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"false\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <objectVariable name=\"__eClass\" outgoingLink=\"//@ownedActivityNode.4/@storyPattern/@linkVariable.1\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.eclipse.org/emf/2002/Ecore#//EClass\"/>\r\n        <bindingExpression xsi:type=\"expressions:LiteralExpression\" value=\"this.eClass()\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"performOperation\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.2\" bindingOperator=\"CREATE\"/>\r\n      <linkVariable name=\"eOperations\" target=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.4/@storyPattern/@objectVariable.3\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"set success\" outgoing=\"//@ownedActivityEdge.4\" incoming=\"//@ownedActivityEdge.3\">\r\n    <storyPattern>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.5/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n        <attributeAssignment>\r\n          <attribute href=\"http://www.moflon.org.TGGRuntime#//RuleResult/success\"/>\r\n          <valueExpression xsi:type=\"expressions:LiteralExpression\" value=\"true\"/>\r\n        </attributeAssignment>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.0\" source=\"//@ownedActivityNode.5/@storyPattern/@objectVariable.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"test core match kernel\" outgoing=\"//@ownedActivityEdge.3 //@ownedActivityEdge.1\" incoming=\"//@ownedActivityEdge.2 //@ownedActivityEdge.6\" forEach=\"true\">\r\n    <storyPattern xsi:type=\"TGGLanguage:TGGRule\" name=\"TopRowNodeToFloorRule\" cspSpec=\"&#xD;&#xA;&#x9;&#x9;sub(floor.col, 1, leftNeighbor.col)&#xD;&#xA;&#x9;&#x9;eq(floor.col, columnNode.index)&#xD;&#xA;&#x9;\">\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"board\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.1\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Board\"/>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"leftNeighbor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.0 //@ownedActivityNode.6/@storyPattern/@linkVariable.2\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <object href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@tggRule.1/@objectVariable.6\"/>\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <objectVariable xsi:type=\"TGGLanguage:TGGObjectVariable\" name=\"floor\" incomingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.1\" outgoingLink=\"//@ownedActivityNode.6/@storyPattern/@linkVariable.2\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor\"/>\r\n        <constraint>\r\n          <constraintExpression xsi:type=\"expressions:ComparisonExpression\" operator=\"EQUAL\">\r\n            <rightExpression xsi:type=\"expressions:LiteralExpression\" value=\"0\"/>\r\n            <leftExpression xsi:type=\"patternExpressions:AttributeValueExpression\">\r\n              <attribute href=\"platform:/resource/SokobanLanguage/model/SokobanLanguage.ecore#//Floor/row\"/>\r\n            </leftExpression>\r\n          </constraintExpression>\r\n        </constraint>\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </objectVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"floors\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.0\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <linkVariable xsi:type=\"TGGLanguage:TGGLinkVariable\" name=\"left\" target=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.6/@storyPattern/@objectVariable.2\">\r\n        <domain href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n      </linkVariable>\r\n      <correspondence href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.2\"/>\r\n      <source href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.0\"/>\r\n      <csp>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.1 //@ownedActivityNode.6/@storyPattern/@csp/@variables.2\" name=\"sub\">\r\n          <signature type=\"EDouble\"/>\r\n          <signature type=\"EDouble\" index=\"1\"/>\r\n          <signature type=\"EDouble\" index=\"2\"/>\r\n          <allowedAdornments value=\"BBB\"/>\r\n          <allowedAdornments value=\"BBF\"/>\r\n          <allowedAdornments value=\"BFB\"/>\r\n          <allowedAdornments value=\"FBB\"/>\r\n        </constraints>\r\n        <constraints variables=\"//@ownedActivityNode.6/@storyPattern/@csp/@variables.0 //@ownedActivityNode.6/@storyPattern/@csp/@variables.3\" name=\"eq\">\r\n          <allowedAdornments value=\"BB\"/>\r\n          <allowedAdornments value=\"BF\"/>\r\n          <allowedAdornments value=\"FB\"/>\r\n        </constraints>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"floor\"/>\r\n        <variables xsi:type=\"csp:Literal\" bound=\"true\" value=\"ACED000574000131\" type=\"Number\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"col\" objectVariable=\"leftNeighbor\"/>\r\n        <variables xsi:type=\"csp:AttributeVariable\" type=\"Number\" attribute=\"index\" objectVariable=\"columnNode\"/>\r\n      </csp>\r\n      <target href=\"platform:/resource/SokobanCodeAdapter/model/SokobanCodeAdapter.tgg.xmi#//@domain.1\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityNode xsi:type=\"activities:StoryNode\" name=\"Add match to rule result\" outgoing=\"//@ownedActivityEdge.8\" incoming=\"//@ownedActivityEdge.7\">\r\n    <storyPattern>\r\n      <objectVariable name=\"ruleresult\" outgoingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//IsAppropriateRuleResult\"/>\r\n      </objectVariable>\r\n      <objectVariable name=\"match\" incomingLink=\"//@ownedActivityNode.7/@storyPattern/@linkVariable.0\" bindingState=\"BOUND\">\r\n        <type xsi:type=\"ecore:EClass\" href=\"http://www.moflon.org.TGGRuntime#//Match\"/>\r\n      </objectVariable>\r\n      <linkVariable name=\"matches\" target=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.1\" source=\"//@ownedActivityNode.7/@storyPattern/@objectVariable.0\" bindingOperator=\"CREATE\"/>\r\n    </storyPattern>\r\n  </ownedActivityNode>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.2\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.3\" guard=\"EACH_TIME\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.3\" target=\"//@ownedActivityNode.6\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.6\" target=\"//@ownedActivityNode.5\" guard=\"END\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.5\" target=\"//@ownedActivityNode.1\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.0\" target=\"//@ownedActivityNode.4\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.4\" target=\"//@ownedActivityNode.6\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.7\" guard=\"SUCCESS\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.7\" target=\"//@ownedActivityNode.3\"/>\r\n  <ownedActivityEdge source=\"//@ownedActivityNode.2\" target=\"//@ownedActivityNode.3\" guard=\"FAILURE\"/>\r\n</activities:Activity>\r\n'"
	 *        annotation="http://www.eclipse.org/emf/2002/GenModel body='boolean fujaba__Success = false;\n      Object _TmpObject = null;\n      EClass __eClass = null;\n      Iterator fujaba__Iter__eClassTo__performOperation = null;\n      EOperation __performOperation = null;\n      IsAppropriateRuleResult ruleresult = null;\n      Match match = null;\n      Floor leftNeighbor = null;\n      Board board = null;\n      Iterator fujaba__IterRuleresultToMatch = null;\n\n      // story node \'prepare return value\'\n      try \n      {\n         fujaba__Success = false; \n\n         _TmpObject = (this.eClass());\n\n         // ensure correct type and really bound of object __eClass\n         JavaSDM.ensure ( _TmpObject instanceof EClass );\n         __eClass = (EClass) _TmpObject;\n         // iterate to-many link eOperations from __eClass to __performOperation\n         fujaba__Success = false;\n\n         fujaba__Iter__eClassTo__performOperation = __eClass.getEOperations().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__Iter__eClassTo__performOperation.hasNext () )\n         {\n            try\n            {\n               __performOperation = (EOperation) fujaba__Iter__eClassTo__performOperation.next ();\n\n               // check object __performOperation is really bound\n               JavaSDM.ensure ( __performOperation != null );\n               // attribute condition\n               JavaSDM.ensure ( JavaSDM.stringCompare (__performOperation.getName (), \"isApplicable_BWD\") == 0 );\n\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // create object ruleresult\n         ruleresult = TGGRuntimeFactory.eINSTANCE.createIsAppropriateRuleResult();\n\n         // assign attribute ruleresult\n         ruleresult.setSuccess (false);\n\n         // create link\n         ruleresult.setPerformOperation( __performOperation);\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'test core match kernel\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object floor is really bound\n         JavaSDM.ensure ( floor != null );\n         // bind object\n         board = floor.getBoard ();\n\n         // check object board is really bound\n         JavaSDM.ensure ( board != null );\n\n         // bind object\n         leftNeighbor = floor.getLeft ();\n\n         // check object leftNeighbor is really bound\n         JavaSDM.ensure ( leftNeighbor != null );\n\n         // check isomorphic binding between objects leftNeighbor and floor \n         JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n         // check link floors from leftNeighbor to board\n         JavaSDM.ensure (board.equals (leftNeighbor.getBoard ()\n         ));\n\n         // attribute condition\n         JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n         // attribute condition\n         JavaSDM.ensure ( floor.getRow () == 0 );\n\n         // story node \'test core match\'\n         try \n         {\n            fujaba__Success = false; \n\n            // check object board is really bound\n            JavaSDM.ensure ( board != null );\n            // check object floor is really bound\n            JavaSDM.ensure ( floor != null );\n            // check object leftNeighbor is really bound\n            JavaSDM.ensure ( leftNeighbor != null );\n            // check object ruleresult is really bound\n            JavaSDM.ensure ( ruleresult != null );\n            // check isomorphic binding between objects leftNeighbor and floor \n            JavaSDM.ensure ( !leftNeighbor.equals (floor) );\n\n            // check link floors from floor to board\n            JavaSDM.ensure (board.equals (floor.getBoard ()\n            ));\n\n            // check link floors from leftNeighbor to board\n            JavaSDM.ensure (board.equals (leftNeighbor.getBoard ()\n            ));\n\n            // check link right from floor to leftNeighbor\n            JavaSDM.ensure (leftNeighbor.equals (floor.getLeft ()\n            ));\n\n            // attribute condition\n            JavaSDM.ensure ( floor.getRow () == 0 );\n\n            // attribute condition\n            JavaSDM.ensure ( leftNeighbor.getRow () == 0 );\n\n            // create object match\n            match = TGGRuntimeFactory.eINSTANCE.createMatch();\n\n            // statement node \'bookkeeping with generic isAppropriate method\'\n            fujaba__Success = this.isAppropriate_BWD(match,board,leftNeighbor,floor);\n            if (fujaba__Success)\n            {\n               // story node \'Add match to rule result\'\n               try \n               {\n                  fujaba__Success = false; \n\n                  // check object match is really bound\n                  JavaSDM.ensure ( match != null );\n                  // check object ruleresult is really bound\n                  JavaSDM.ensure ( ruleresult != null );\n\n                  // create link\n                  match.setIsAppropriateRuleResult( ruleresult);\n\n                  fujaba__Success = true;\n               }\n               catch ( JavaSDMException fujaba__InternalException )\n               {\n                  fujaba__Success = false;\n               }\n\n\n            }\n            else\n            {\n\n            }\n            fujaba__Success = true;\n         }\n         catch ( JavaSDMException fujaba__InternalException )\n         {\n            fujaba__Success = false;\n         }\n\n\n\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      // story node \'set success\'\n      try \n      {\n         fujaba__Success = false; \n\n         // check object ruleresult is really bound\n         JavaSDM.ensure ( ruleresult != null );\n         // iterate to-many link matches from ruleresult to match\n         fujaba__Success = false;\n\n         fujaba__IterRuleresultToMatch = ruleresult.getMatches().iterator ();\n\n         while ( !(fujaba__Success) && fujaba__IterRuleresultToMatch.hasNext () )\n         {\n            try\n            {\n               match = (Match) fujaba__IterRuleresultToMatch.next ();\n\n               // check object match is really bound\n               JavaSDM.ensure ( match != null );\n\n               fujaba__Success = true;\n            }\n            catch ( JavaSDMException fujaba__InternalException )\n            {\n               fujaba__Success = false;\n            }\n         }\n         JavaSDM.ensure (fujaba__Success);\n         // assign attribute ruleresult\n         ruleresult.setSuccess (true);\n         fujaba__Success = true;\n      }\n      catch ( JavaSDMException fujaba__InternalException )\n      {\n         fujaba__Success = false;\n      }\n\n      return ruleresult;'"
	 * @generated
	 */
	IsAppropriateRuleResult isAppropriate_BWD_Floor_10(Floor floor);

} // TopRowNodeToFloorRule
